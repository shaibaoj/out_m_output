(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e7ba849"],{"0c13":function(e,t,i){},"234b":function(e,t,i){},"26c9":function(e,t,i){var s,a,n;(function(){(function(r,c){a=[t,i("556d"),i("cdfc"),i("234b")],s=c,n="function"===typeof s?s.apply(t,a):s,void 0===n||(e.exports=n)})(0,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(t);function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}e.default={name:"md-tab-bar",components:a({},i.default.name,i.default),props:{value:{type:[String,Number],default:""},items:{type:Array,default:function(){return[]}},hasInk:{type:Boolean,default:!0},inkLength:{type:Number,default:100},immediate:{type:Boolean,default:!1}},data:function(){return{currentName:"",wrapperW:0,contentW:0,inkWidth:0,inkPos:0,scrollerTmpKey:Date.now(),maskStartShown:!1,maskEndShown:!0}},computed:{scrollable:function(){return this.contentW>this.wrapperW},currentIndex:function(){for(var e=0,t=this.items.length;e<t;e++)if(this.items[e].name===this.currentName)return e},currentTab:function(){if(this.currentIndex)return this.items[this.currentIndex]}},watch:{value:{immediate:!0,handler:function(e){e!==this.currentName&&(this.currentName=e)}},inkWidth:function(){this.$nextTick((function(){this.reflow()}))},items:function(){this.$nextTick((function(){this.reflow()}))},currentIndex:function(){this.$nextTick((function(){this.reflow()}))},scrollable:function(){this.scrollerTmpKey=Date.now()}},created:function(){""===this.currentName&&this.items.length&&(this.currentName=this.items[0].name,this.$emit("change",this.items[0],0,0))},mounted:function(){this.$_resizeEnterBehavior()},activated:function(){this.$_resizeEnterBehavior()},deactivated:function(){this.$_resizeLeaveBehavior()},beforeDestroy:function(){this.$_resizeLeaveBehavior()},methods:{$_onScroll:function(e){var t=e.scrollLeft;this.maskStartShown=t>0,t>=this.$refs.scroller.contentW-this.$refs.scroller.containerW?this.maskEndShown=!1:this.maskEndShown=!0},$_onClick:function(e,t){e.disabled||(this.$emit("change",e,t,this.currentIndex),this.currentName=e.name,this.$emit("input",e.name))},$_resizeEnterBehavior:function(){var e=this;window.addEventListener("resize",this.reflow),this.reflow(),this.immediate&&this.$nextTick((function(){e.$emit("change",e.items[e.currentIndex],e.currentIndex)}))},$_resizeLeaveBehavior:function(){window.removeEventListener("resize",this.reflow)},reflow:function(){var e=this;if(this.$refs.items&&0!==this.$refs.items.length){var t=this.$refs.wrapper.getBoundingClientRect();this.wrapperW=t.width;for(var i=0,s=0,a=this.items.length;s<a;s++){var n=this.$refs.items[s].getBoundingClientRect(),r=n.width;i+=r}this.contentW=i,this.$refs.scroller.reflowScroller(),this.$nextTick((function(){if(e.$refs.items&&e.$refs.items[e.currentIndex]){var t=e.$refs.items[e.currentIndex];e.inkWidth=t.offsetWidth*e.inkLength/100,e.inkPos=t.offsetLeft+(t.offsetWidth-e.inkWidth)/2;var i=e.$refs.items[e.currentIndex-1],s=e.$refs.items[e.currentIndex+1];if(i)if(s){var a=e.$refs.wrapper.getBoundingClientRect(),n=i.getBoundingClientRect(),r=s.getBoundingClientRect();n&&n.left<a.left?e.$refs.scroller.scrollTo(i.offsetLeft,0,!0):r&&r.right>a.right&&e.$refs.scroller.scrollTo(s.offsetLeft+s.offsetWidth-e.wrapperW,0,!0)}else e.$refs.scroller.scrollTo(e.contentW,0,!0);else e.$refs.scroller.scrollTo(0,0,!0)}}))}}}}}))})(),e.exports.__esModule&&(e.exports=e.exports.default);var r="function"===typeof e.exports?e.exports.options:e.exports;r.render=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{staticClass:"md-tab-bar"},[i("div",{ref:"wrapper",staticClass:"md-tab-bar-inner"},[e.scrollable?[i("div",{directives:[{name:"show",rawName:"v-show",value:e.maskStartShown,expression:"maskStartShown"}],staticClass:"md-tab-bar-start"}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.maskEndShown,expression:"maskEndShown"}],staticClass:"md-tab-bar-end"})]:e._e(),e._v(" "),i("md-scroll-view",{key:e.scrollerTmpKey,ref:"scroller",attrs:{"scrolling-x":e.scrollable,"scrolling-y":!1},on:{scroll:e.$_onScroll}},[i("div",{staticClass:"md-tab-bar-list",style:{width:e.contentW+"px"}},e._l(e.items,(function(t,s){return i("a",{key:t.name,ref:"items",refInFor:!0,staticClass:"md-tab-bar-item",class:{"is-active":e.currentName===t.name,"is-disabled":!!t.disabled},on:{click:function(i){return e.$_onClick(t,s)}}},[e._t("item",[e._v(e._s(t.label))],{item:t,items:e.items,index:s,currentName:e.currentName})],2)})),0),e._v(" "),e.hasInk?i("span",{staticClass:"md-tab-bar-ink",class:{"is-disabled":e.currentTab&&e.currentTab.disabled},style:{width:e.inkWidth+"px",transform:"translateX("+e.inkPos+"px)"}}):e._e()])],2)])},r.staticRenderFns=[]},"5f9f":function(e,t,i){"use strict";i("7095")},7095:function(e,t,i){},"9f8a":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page"},[i("div",{staticClass:"container"},[i("infinite-loading",{attrs:{"is-show-mod":!0,"has-more":e.page.hasMore,"is-loading":e.loading,threshold:200},on:{loadmore:e.loadmore}},[i("div",{staticClass:"video"},[i("div",{staticClass:"video-item"},[i("video",{ref:"video",staticClass:"video-video",staticStyle:{"object-fit":"contain"},attrs:{src:"https://bbt-taoke.oss-cn-qingdao.aliyuncs.com/shipin/shoudan.mp4?_v=1",poster:"https://img.youdanhui.cn/cms_img/2020-08-26/5f467343d0836.png","webkit-playsinline":"true",playsinline:"true"}}),i("div",{staticClass:"video-cover",on:{click:function(t){return e.playVideo()}}},[i("div",{staticClass:"video-cover-play-button"})])])]),i("div",{staticClass:"help",on:{click:e.help}},[e._v("首单礼金 玩法指南>>")]),i("div",{staticClass:"temp"},[i("div",{staticClass:"comment"},[i("div",[e._v("① 点【直达礼金】，打开手机Τāō宝领礼金(勿拍)")]),i("div",[e._v("② 挑选【今日捡漏】商品，点击商品购买")])]),i("ul",e._l(e.recommends,(function(t,s){return i("li",{key:s,on:{click:function(i){return e.drawMessage(t)}}},[i("div",{staticClass:"text"},[i("span",0==s?[e._v("领首单礼金")]:[e._v("领备用礼金")])])])})),0)]),i("div",{staticClass:"searchbox"},[i("div",{staticClass:"search-input"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.page.searchKey,expression:"page.searchKey",modifiers:{trim:!0}}],staticClass:"input",attrs:{"confirm-type":"search",placeholder:"搜索礼金商品",focus:!0,"auto-focus":"","placeholder-class":"input-plholder"},domProps:{value:e.page.searchKey},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.query.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.page,"searchKey",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.page.searchKey,expression:"page.searchKey"}],on:{click:e.cleanKey}},[i("md-icon",{attrs:{name:"close-fill",color:"#bcbcbc"}})],1)]),i("div",{staticClass:"query",on:{click:e.query}},[e._v("搜索")])]),i("div",{staticClass:"header-box"},[i("md-tab-bar",{attrs:{items:e.navItems,maxLength:5},on:{change:e.changeTab},model:{value:e.current,callback:function(t){e.current=t},expression:"current"}}),i("div",{staticClass:"header-screen"},[i("div",{staticClass:"screen-top"},[i("div",{staticClass:"top-item",class:[0==e.tabIndex?"active bold":""],attrs:{"data-index":"0"},on:{click:e.screen}},[e._v("销售\n\t\t\t\t\t\t\t"),i("span",[i("i"),i("i")])]),i("div",{staticClass:"top-item",class:[1==e.tabIndex?"active bold":""],attrs:{"data-index":"1"},on:{click:e.screen}},[e._v("价格")]),i("div",{staticClass:"top-item",class:[2==e.tabIndex?"active bold":""],attrs:{"data-index":"2"},on:{click:e.screen}},[e._v("人气")]),i("div",{staticClass:"top-item",class:[3==e.tabIndex?"active bold":""],attrs:{"data-index":"3"},on:{click:e.screen}},[e._v("最新")])])]),i("div",{staticClass:"lijing"},[i("span",[e._v("已领礼金:")]),i("ul",[i("li",{class:[7==e.page.receivedPrice?"active":""],on:{click:function(t){return e.queryPrice(7)}}},[e._v("7元")]),i("li",{class:[6==e.page.receivedPrice?"active":""],on:{click:function(t){return e.queryPrice(6)}}},[e._v("6元")]),i("li",{class:[5==e.page.receivedPrice?"active":""],on:{click:function(t){return e.queryPrice(5)}}},[e._v("5元")]),i("li",{class:[4==e.page.receivedPrice?"active":""],on:{click:function(t){return e.queryPrice(4)}}},[e._v("4元")]),i("li",{class:[3==e.page.receivedPrice?"active":""],on:{click:function(t){return e.queryPrice(3)}}},[e._v("3元")]),i("li",{class:[2==e.page.receivedPrice?"active":""],on:{click:function(t){return e.queryPrice(2)}}},[e._v("2元")])])])],1),i("div",{staticClass:"list"},e._l(e.items,(function(e,t){return i("goods",{key:t,attrs:{itemData:{type:"goods",title:e.itemshorttitle,pic_url:e.itempic,url:"https://detail.tmall.com/item.htm?id="+e.itemid,lijin_price:e.estimate_prince,buy_price:e.itemendprice,volume:e.itemsale,source:""},goodsType:"topic"}})})),1),i("back-top",{attrs:{distance:0,bottom:100,right:20}})],1)],1)])},a=[],n=(i("ac6a"),i("26c9")),r=i.n(n),c=i("aed6"),o=i.n(c),l=i("db8e"),d=i("a288"),u=i("aa6b"),h=i("e1b0"),m=i("3919"),p=(i("cebe"),{components:{loadMore:l["a"],navBar:u["a"],infiniteLoading:m["a"],[o.a.name]:o.a,backTop:h["a"],[r.a.name]:r.a,goods:d["a"]},data(){return{current:0,navList:[],page:{searchKey:"",activeType:"",ipage:0,price1:"",price2:"",receivedPrice:5,hasMore:!0},tabIndex:0,items:[],recommends:[],loading:!1}},mounted(){this.loadNav(),this.queryItems()},created(){},methods:{back(){this.$router.go(-1)},loadNav(){this.$http.get("https://www.haodanku.com/activity/category",{}).then(e=>{e.category&&(this.navList.push(...e.category),this.queryItems())})},queryItems(e){if(this.loading)return;"tabChange"===e&&(this.items=[],this.page.ipage=0),this.loading=!0;let t=this.navItems[this.current],i=null!=t?t.cid:"",s="";s=0===this.tabIndex?"1":1===this.tabIndex?"3":2===this.tabIndex?"5":3===this.tabIndex?"8":"1",this.page.ipage=this.page.ipage+1,this.$http.get("https://www.haodanku.com/activity/ActivityFristOrderItems",{p:this.page.ipage,keyword:this.page.searchKey,cat_id:i,order:s,received_price:this.page.receivedPrice}).then(t=>{this.loading=!1,t.top_data&&(this.recommends=t.top_data),t.data?"tabChange"===e?this.items=t.data:this.items.push(...t.data):this.page.hasMore=!1})},changeTab(e,t,i){this.current=t,this.queryItems("tabChange")},loadmore(){this.loading||this.queryItems()},screen:function(e){let t=e.currentTarget.dataset.index;4===t?this.isList=!this.isList:(this.tabIndex=parseInt(t),this.queryItems("tabChange"))},cleanKey:function(){this.page.searchKey=""},query(){this.page.searchKey&&(this.page.ipage=0,this.queryItems("tabChange"))},drawMessage(e){this.$nav.postMessage({jump_type:"native",action:"load_action",role:"member",params:{load_url:"kuaibao",num_iid:e.itemid}})},playVideo(){this.$nav.postMessage({jump_type:"native",action:"web",title:"教程",params:{url:"https://haopintui.oss-cn-hangzhou.aliyuncs.com/0/shoudan2.mp4"}})},queryPrice(e){this.page.receivedPrice=e,this.queryItems("tabChange")},help(){this.$nav.postMessage({jump_type:"native",action:"web",title:"教程",params:{url:"https://img.youdanhui.cn/cms_img/2020-08-26/5f46736bef328.png"}})}},computed:{navItems(){const e=[];return this.navList.forEach((t,i)=>{e.push({name:t.cat_id,cid:t.cat_id,label:t.name})}),e}}}),v=p,f=(i("ee5a"),i("2877")),g=Object(f["a"])(v,s,a,!1,null,"7bfc9217",null);t["default"]=g.exports},aa6b:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"nav-bar"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.leftShow,expression:"leftShow"}],staticClass:"nav-left"},[i("div",{staticClass:"back",on:{click:function(t){return e.$emit("on-click-back")}}},[e._t("back-icon",(function(){return[i("i",{staticClass:"back-icon"})]}))],2),e._t("left")],2),i("div",{staticClass:"nav-center"},[i("h3",{staticClass:"nav-title",on:{click:function(t){return e.$emit("on-click-title")}}},[e._t("default",(function(){return[i("span",{directives:[{name:"show",rawName:"v-show",value:e.title,expression:"title"}]},[e._v(e._s(e.title))])]}))],2)]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.rightShow,expression:"rightShow"}],staticClass:"nav-right"},[e._t("right"),i("div",{staticClass:"more",on:{click:function(t){return e.$emit("on-click-more")}}},[e._t("more-icon",(function(){return[i("i",{staticClass:"more-icon"})]}))],2)],2)])},a=[],n={name:"nav-bar",props:{title:{type:String,default:"navBar"},leftShow:{type:Boolean,default:!0},rightShow:{type:Boolean,default:!0}},data(){return{}},methods:{onClickBack(){this.$router?this.$router.back():window.history.back()}}},r=n,c=(i("5f9f"),i("2877")),o=Object(c["a"])(r,s,a,!1,null,"96b87444",null);t["a"]=o.exports},ee5a:function(e,t,i){"use strict";i("0c13")}}]);