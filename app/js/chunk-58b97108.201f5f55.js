(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58b97108"],{"105a":function(t,e,a){"use strict";var n=a("7764"),s=a.n(n);s.a},1857:function(t,e,a){var n,s,i;(function(){(function(r,o){s=[e,a("a62b"),a("0f33"),a("8bbe")],n=o,i="function"===typeof n?n.apply(e,s):n,void 0===i||(t.exports=i)})(0,(function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(e);function n(t){return t&&t.__esModule?t:{default:t}}t.default=a.default}))})(),t.exports.__esModule&&(t.exports=t.exports.default);"function"===typeof t.exports?t.exports.options:t.exports},"1b88":function(t,e,a){var n,s,i;(function(){(function(r,o){s=[e,a("e063"),a("0f33"),a("ae6a")],n=o,i="function"===typeof n?n.apply(e,s):n,void 0===i||(t.exports=i)})(0,(function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(e);function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}t.default={name:"md-result-page",components:s({},a.default.name,a.default),props:{type:{type:String,default:"empty"},imgUrl:{type:String,default:""},text:{type:String,default:""},subtext:{type:String,default:""},buttons:{type:Array,default:function(){return[]}}},computed:{actualImgUrl:function(){var t="//manhattan.didistatic.com/static/manhattan/mand-mobile/result-page/2.1/";return this.imgUrl||""+t+this.type+".png"},actualText:function(){return this.text||{network:"网络连接异常",empty:"暂无信息"}[this.type]||""},actualSubText:function(){return this.subtext||{lost:"您要访问的页面已丢失"}[this.type]||""}}}}))})(),t.exports.__esModule&&(t.exports=t.exports.default);var r="function"===typeof t.exports?t.exports.options:t.exports;r.render=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"md-result"},[a("div",{staticClass:"md-result-image"},[a("img",{class:!t.imgUrl&&t.type,attrs:{src:t.actualImgUrl}})]),t._v(" "),t.actualText?a("div",{staticClass:"md-result-text"},[t._v(t._s(t.actualText))]):t._e(),t._v(" "),t.actualSubText?a("div",{staticClass:"md-result-subtext"},[t._v(t._s(t.actualSubText))]):t._e(),t._v(" "),t.buttons.length?a("div",{staticClass:"md-result-buttons"},t._l(t.buttons,(function(e,n){return a("md-button",{key:n,attrs:{type:e.type,plain:void 0===e.plain||e.plain,round:e.round,inactive:e.inactive,loading:e.loading,icon:e.icon,"icon-svg":e.iconSvg,size:"small",inline:""},on:{click:e.handler}},[t._v("\n      "+t._s(e.text)+"\n    ")])})),1):t._e()])},r.staticRenderFns=[]},"2b9c":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("md-tab-bar",{attrs:{items:t.items},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}}),1===t.current?a("Items-page"):2===t.current?a("data-page"):t._e()],1)},s=[],i=a("f2cf"),r=a.n(i),o=a("35f4"),m=a.n(o),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("md-scroll-view",{ref:"scrollView",attrs:{"scrolling-x":!1},on:{"end-reached":t.loadData}},[1==t.page.query&&0==t.page.items.length?a("div",{staticClass:"empty"},[a("md-result-page",{staticClass:"customized",attrs:{"img-url":"https://img.youdanhui.cn/cms_img/2020-07-30/5f22b757a0033.png",text:"搜索结果为空...",subtext:"要不然刷新试试？"}})],1):t._e(),t._l(t.page.items,(function(e,n){return a("div",{key:n,staticClass:"item"},[a("div",{staticClass:"item-line"},[a("div",{staticClass:"avatar"},[a("img",{staticClass:"portrait",attrs:{src:e.member.img_url||"https://img.youdanhui.cn/cms_img/2019-08-28/5d663304b1244.png"}})]),a("div",{staticClass:"avatar-content"},[a("div",{staticClass:"action-box"},[e.member.nick_name&&""!=e.member.nick_name?a("span",[t._v(t._s(e.member.nick_name))]):a("span",[t._v(t._s(e.member.user_name))]),a("span",[t._v(t._s(e.create_date))])]),e.vip?a("div",{staticClass:"action-box"},[a("span",[t._v("激活时间:"+t._s(e.vip.activated_at))]),a("span")]):t._e(),a("div",{staticClass:"action-box"},[a("span",[t._v("支付宝账号: "+t._s(e.alipay))]),a("span")]),a("div",{staticClass:"action-box"},[a("span",[t._v("支付宝真实姓名: "+t._s(e.payee_name))]),a("span")])])]),a("div",{staticClass:"item-data"},[a("div",{staticClass:"item-data-it"},[a("span",[t._v(t._s(e.money))]),a("span",[t._v("金额")])]),a("div",{staticClass:"item-data-it"},[a("span",[t._v(t._s(e.status_name))]),a("span",[t._v("状态")])]),a("div",{staticClass:"item-data-it"},[a("span",[t._v(t._s(e.vip?"vip会员":"普通会员"))]),a("span",[t._v("当前等级")])]),a("div",{staticClass:"item-data-it"},[a("span",[t._v(t._s(t._f("showDate")(e.pay_date)))]),a("span",[t._v("支付时间")])])]),a("div",{staticClass:"item-data"},[0===e.status?a("md-button",{attrs:{type:"primary",size:"small",inline:"",round:""},on:{click:function(a){return t.paymentStatus(e,1)}}},[t._v("手动已付款确认")]):t._e(),0===e.status?a("md-button",{attrs:{type:"primary",size:"small",inline:"",round:""},on:{click:function(a){return t.paymentStatus(e,-1)}}},[t._v("账号错误")]):t._e(),0===e.status?a("md-button",{attrs:{type:"primary",size:"small",inline:"",round:""},on:{click:function(a){return t.autoPayment(e,1)}}},[t._v("使用自动代付付款")]):t._e()],1)])})),a("md-scroll-view-more",{attrs:{slot:"more","is-finished":t.page.isFinished},slot:"more"})],2)],1)},c=[],p=(a("f548"),a("21a1")),u=a.n(p),d=a("1b88"),f=a.n(d),y=a("1857"),_=a.n(y),v=a("ec20"),b=a.n(v),h=a("026f"),g=a.n(h),x=a("2f41"),w=a.n(x),C=a("e063"),O=a.n(C),k=a("751a");const j={getItems:"cms.keeper.payment.list",getView:"cms.keeper.payment.view",updateItem:"cms.keeper.payment.update",updateAuto:"cms.keeper.payment.updateAuto"};function P(t){return k["a"].post(j.updateAuto,t)}function S(t){return k["a"].post(j.getItems,t)}function $(t){return k["a"].post(j.updateItem,t)}var D={name:"Brand",components:{[O.a.name]:O.a,[w.a.name]:w.a,[g.a.name]:g.a,[b.a.name]:b.a,[_.a.name]:_.a,[f.a.name]:f.a},data(){return{page:{items:[],ipage:0,hasMore:!0,isFinished:!1,query:0}}},created(){this.loadData()},methods:{moment:m.a,loadData(){this.page.isFinished||(this.page.ipage=this.page.ipage+1,S({ipage:this.page.ipage,maxMoney:.01,status:this.tabCurrentIndex}).then(t=>{t.data.items&&t.data.items?this.page.items.push(...t.data.items):this.page.isFinished=!1,this.$refs.scrollView.finishLoadMore(),this.page.query=1}))},query(){this.$refs.table.refresh(!0)},onSelectChange(t,e){this.selectedRowKeys=t,this.selectedRows=e},toggleAdvanced(){this.advanced=!this.advanced},resetSearchForm(){this.queryParam={date:m()(new Date)}},autoPayment(t){P({id:t.id}).then(e=>{const a=e||{},n=a.info;0===(n||{}).status&&(t.status=1),u.a.succeed(n.status_err)})},paymentStatus(t,e){$({id:t.id,status:e}).then(a=>{const n=a||{},s=n.info;0===(s||{}).status&&(u.a.succeed("保存成功"),t.status=e)})}},filters:{showMoney:function(t){return t=t.replace(/([0-9.]+)元([包邮]*)/g,"<span>$1元$2</span>"),t},showDate(t){return null!=t&&t.length>11?t.substring(0,11):t}}},M=D,T=(a("105a"),a("9ca4")),q=Object(T["a"])(M,l,c,!1,null,"7b280429",null),F=q.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("div",{staticClass:"fields"},[a("md-field",{attrs:{title:"代付款功能状态",brief:"是否开启自动代付款，自动代付款会收取一定的服务费，费用标准0.6%（即团长通过自动付款给旗下会员1000元收取6元服务费）,"}},[a("md-cell-item",{attrs:{title:"状态",brief:""}},[a("md-switch",{attrs:{slot:"right"},slot:"right",model:{value:t.page.payment.payment_mode,callback:function(e){t.$set(t.page.payment,"payment_mode",e)},expression:"page.payment.payment_mode"}})],1),a("md-input-item",{attrs:{title:"代付单笔金额限制",disabled:!t.page.payment.payment_mode,solid:!1,placeholder:"最小1元",brief:"超过限额的需要自己手工支付, 设置为0每笔交易都需要手工确认了"},model:{value:t.form.payment_auto_limit_money,callback:function(e){t.$set(t.form,"payment_auto_limit_money",e)},expression:"form.payment_auto_limit_money"}})],1),a("md-field",{attrs:{title:"提现规则"}},[a("md-input-item",{attrs:{title:"用户提现最低额",solid:!1,placeholder:"最小1元",brief:"买家每次提现金额必须大于最低额("+t.page.payment.payment_money+")，否则无法提现"},model:{value:t.form.payment_money,callback:function(e){t.$set(t.form,"payment_money",e)},expression:"form.payment_money"}}),a("md-input-item",{attrs:{title:"首次提现金额",solid:!1,placeholder:"最小1元",brief:"首次提现需要大于("+t.page.payment.payment_money+")，否则无法提现"},model:{value:t.form.payment_first_money,callback:function(e){t.$set(t.form,"payment_first_money",e)},expression:"form.payment_first_money"}}),a("md-input-item",{attrs:{title:"提醒手机号",solid:!1,placeholder:"输入手机号",brief:"每笔付款成功将会往该手机发送一次提醒"},model:{value:t.form.payment_call_mobile,callback:function(e){t.$set(t.form,"payment_call_mobile",e)},expression:"form.payment_call_mobile"}})],1),a("md-field",{attrs:{title:"付款备注信息"}},[a("md-input-item",{attrs:{title:"付款备注信息",solid:!1,placeholder:"",brief:"每笔付款备注信息"},model:{value:t.form.payment_content,callback:function(e){t.$set(t.form,"payment_content",e)},expression:"form.payment_content"}})],1),a("md-field",[a("md-button",{attrs:{type:"primary",round:""},on:{click:t.handleSubmit}},[t._v("保存")])],1)],1)])},E=[],R=(a("6d57"),a("73d1")),A=a("448a"),z=a.n(A),U=a("40bf"),V=a.n(U),B=a("b1ef"),J=a.n(B),K=a("85ee"),G=a.n(K),L=a("3235"),H=a("5880");function N(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function Q(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?N(Object(a),!0).forEach((function(e){Object(R["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var W={components:{[J.a.name]:J.a,[g.a.name]:g.a,[V.a.name]:V.a,[O.a.name]:O.a,[z.a.name]:z.a,[b.a.name]:b.a},computed:Q({},Object(H["mapGetters"])(["token"])),data(){return{form:{payment_mone:0,payment_first_money:0,payment_call_mobile:"",payment_content:""},page:{payment:{payment_mode:!1},userData:{money:0}}}},created(){},mounted(){this.init()},methods:{init(){this.query()},query(){Object(L["a"])().then(t=>{t.data.item&&this.$nextTick(()=>{const e=G()(t.data.item,["payment_auto_limit_money","payment_money","payment_first_money","payment_call_mobile","payment_content"]);this.form=Object.assign(this.form,e),this.page.payment.payment_mode=1===t.data.item.payment_mode,this.page.payment.payment_money=t.data.item.payment_money,this.page.payment.payment_first_money=t.data.item.payment_first_money})})},queryPay(){Object(L["a"])().then(t=>{t.data.user_data&&(this.page.userData.money=t.data.user_data.money)})},handleSubmit(t){Object(L["b"])(Object.assign(this.form,{page_view:"payment",payment_mode:this.page.payment.payment_mode})).then(t=>{const e=t||{},a=e.info;0===(a||{}).status&&u.a.succeed("保存成功")})},changgeValue(t){const e=t.target,a=e.value,n=e.id;"payment_money"===n?this.page.payment.payment_money=a:"payment_first_money"===n&&(this.page.payment.payment_first_money=a)},openModelPay(){this.$refs.modalPay.edit({})},queryPayResult(){this.$refs.modalPayment.edit({})}}},X=W,Y=(a("4006"),Object(T["a"])(X,I,E,!1,null,"74b4a351",null)),Z=Y.exports,tt={name:"Page",components:{ItemsPage:F,DataPage:Z,[r.a.name]:r.a},data(){return{current:1,items:[{name:1,label:"提现管理"},{name:2,label:"自动代付款设置"}]}},created(){},methods:{handleTabChange(t,e){this[e]=t},query(){this.$refs.table.refresh(!0)},onSelectChange(t,e){this.selectedRowKeys=t,this.selectedRows=e},toggleAdvanced(){this.advanced=!this.advanced},resetSearchForm(){this.queryParam={date:m()(new Date)}}}},et=tt,at=Object(T["a"])(et,n,s,!1,null,null,null);e["default"]=at.exports},4006:function(t,e,a){"use strict";var n=a("61b9"),s=a.n(n);s.a},"50f4":function(t,e,a){},"61b9":function(t,e,a){},7764:function(t,e,a){},"8bbe":function(t,e,a){},a62b:function(t,e,a){var n,s,i;(function(){(function(r,o){s=[e,a("0f33"),a("50f4")],n=o,i="function"===typeof n?n.apply(e,s):n,void 0===i||(t.exports=i)})(0,(function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"md-scroll-view-more",props:{loadingText:{type:String,default:"更多加载中..."},finishedText:{type:String,default:"全部已加载"},isFinished:{type:Boolean,default:!1}}}}))})(),t.exports.__esModule&&(t.exports=t.exports.default);var r="function"===typeof t.exports?t.exports.options:t.exports;r.render=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"md-scroll-view-more"},[t.isFinished?[t._v("\n    "+t._s(t.finishedText)+"\n  ")]:[t._v("\n    "+t._s(t.loadingText)+"\n  ")]],2)},r.staticRenderFns=[]},ae6a:function(t,e,a){}}]);