(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f1cb9888"],{"0dfc":function(e,t,i){},"1e1b":function(e,t,i){},"24d3":function(e,t,i){"use strict";var a=i("0dfc"),s=i.n(a);s.a},"5f9f":function(e,t,i){"use strict";var a=i("1e1b"),s=i.n(a);s.a},aa6b:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"nav-bar"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.leftShow,expression:"leftShow"}],staticClass:"nav-left"},[i("div",{staticClass:"back",on:{click:function(t){return e.$emit("on-click-back")}}},[e._t("back-icon",[i("i",{staticClass:"back-icon"})])],2),e._t("left")],2),i("div",{staticClass:"nav-center"},[i("h3",{staticClass:"nav-title",on:{click:function(t){return e.$emit("on-click-title")}}},[e._t("default",[i("span",{directives:[{name:"show",rawName:"v-show",value:e.title,expression:"title"}]},[e._v(e._s(e.title))])])],2)]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.rightShow,expression:"rightShow"}],staticClass:"nav-right"},[e._t("right"),i("div",{staticClass:"more",on:{click:function(t){return e.$emit("on-click-more")}}},[e._t("more-icon",[i("i",{staticClass:"more-icon"})])],2)],2)])},s=[],n={name:"nav-bar",props:{title:{type:String,default:"navBar"},leftShow:{type:Boolean,default:!0},rightShow:{type:Boolean,default:!0}},data:function(){return{}},methods:{onClickBack:function(){this.$router?this.$router.back():window.history.back()}}},r=n,o=(i("5f9f"),i("9ca4")),c=Object(o["a"])(r,a,s,!1,null,"96b87444",null);t["a"]=c.exports},b956:function(e,t,i){},f2cf:function(e,t,i){var a,s,n;(function(){(function(r,o){s=[t,i("2f41"),i("0f33"),i("b956")],a=o,n="function"===typeof a?a.apply(t,s):a,void 0===n||(e.exports=n)})(0,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(t);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}e.default={name:"md-tab-bar",components:s({},i.default.name,i.default),props:{value:{type:[String,Number],default:""},items:{type:Array,default:function(){return[]}},hasInk:{type:Boolean,default:!0},inkLength:{type:Number,default:100},immediate:{type:Boolean,default:!1}},data:function(){return{currentName:"",wrapperW:0,contentW:0,inkWidth:0,inkPos:0,scrollerTmpKey:Date.now(),maskStartShown:!1,maskEndShown:!0}},computed:{scrollable:function(){return this.contentW>this.wrapperW},currentIndex:function(){for(var e=0,t=this.items.length;e<t;e++)if(this.items[e].name===this.currentName)return e},currentTab:function(){if(this.currentIndex)return this.items[this.currentIndex]}},watch:{value:{immediate:!0,handler:function(e){e!==this.currentName&&(this.currentName=e)}},inkWidth:function(){this.$nextTick((function(){this.reflow()}))},items:function(){this.$nextTick((function(){this.reflow()}))},currentIndex:function(){this.$nextTick((function(){this.reflow()}))},scrollable:function(){this.scrollerTmpKey=Date.now()}},created:function(){""===this.currentName&&this.items.length&&(this.currentName=this.items[0].name,this.$emit("change",this.items[0],0,0))},mounted:function(){this.$_resizeEnterBehavior()},activated:function(){this.$_resizeEnterBehavior()},deactivated:function(){this.$_resizeLeaveBehavior()},beforeDestroy:function(){this.$_resizeLeaveBehavior()},methods:{$_onScroll:function(e){var t=e.scrollLeft;this.maskStartShown=t>0,t>=this.$refs.scroller.contentW-this.$refs.scroller.containerW?this.maskEndShown=!1:this.maskEndShown=!0},$_onClick:function(e,t){e.disabled||(this.$emit("change",e,t,this.currentIndex),this.currentName=e.name,this.$emit("input",e.name))},$_resizeEnterBehavior:function(){var e=this;window.addEventListener("resize",this.reflow),this.reflow(),this.immediate&&this.$nextTick((function(){e.$emit("change",e.items[e.currentIndex],e.currentIndex)}))},$_resizeLeaveBehavior:function(){window.removeEventListener("resize",this.reflow)},reflow:function(){var e=this;if(this.$refs.items&&0!==this.$refs.items.length){var t=this.$refs.wrapper.getBoundingClientRect();this.wrapperW=t.width;for(var i=0,a=0,s=this.items.length;a<s;a++){var n=this.$refs.items[a].getBoundingClientRect(),r=n.width;i+=r}this.contentW=i,this.$refs.scroller.reflowScroller(),this.$nextTick((function(){if(e.$refs.items&&e.$refs.items[e.currentIndex]){var t=e.$refs.items[e.currentIndex];e.inkWidth=t.offsetWidth*e.inkLength/100,e.inkPos=t.offsetLeft+(t.offsetWidth-e.inkWidth)/2;var i=e.$refs.items[e.currentIndex-1],a=e.$refs.items[e.currentIndex+1];if(i)if(a){var s=e.$refs.wrapper.getBoundingClientRect(),n=i.getBoundingClientRect(),r=a.getBoundingClientRect();n&&n.left<s.left?e.$refs.scroller.scrollTo(i.offsetLeft,0,!0):r&&r.right>s.right&&e.$refs.scroller.scrollTo(a.offsetLeft+a.offsetWidth-e.wrapperW,0,!0)}else e.$refs.scroller.scrollTo(e.contentW,0,!0);else e.$refs.scroller.scrollTo(0,0,!0)}}))}}}}}))})(),e.exports.__esModule&&(e.exports=e.exports.default);var r="function"===typeof e.exports?e.exports.options:e.exports;r.render=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{staticClass:"md-tab-bar"},[i("div",{ref:"wrapper",staticClass:"md-tab-bar-inner"},[e.scrollable?[i("div",{directives:[{name:"show",rawName:"v-show",value:e.maskStartShown,expression:"maskStartShown"}],staticClass:"md-tab-bar-start"}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.maskEndShown,expression:"maskEndShown"}],staticClass:"md-tab-bar-end"})]:e._e(),e._v(" "),i("md-scroll-view",{key:e.scrollerTmpKey,ref:"scroller",attrs:{"scrolling-x":e.scrollable,"scrolling-y":!1},on:{scroll:e.$_onScroll}},[i("div",{staticClass:"md-tab-bar-list",style:{width:e.contentW+"px"}},e._l(e.items,(function(t,a){return i("a",{key:t.name,ref:"items",refInFor:!0,staticClass:"md-tab-bar-item",class:{"is-active":e.currentName===t.name,"is-disabled":!!t.disabled},on:{click:function(i){return e.$_onClick(t,a)}}},[e._t("item",[e._v(e._s(t.label))],{item:t,items:e.items,index:a,currentName:e.currentName})],2)})),0),e._v(" "),e.hasInk?i("span",{staticClass:"md-tab-bar-ink",class:{"is-disabled":e.currentTab&&e.currentTab.disabled},style:{width:e.inkWidth+"px",transform:"translateX("+e.inkPos+"px)"}}):e._e()])],2)])},r.staticRenderFns=[]},f43c:function(e,t,i){"use strict";i.r(t);var a,s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page"},[i("div",{staticClass:"header-box"},[i("div",{staticClass:"searchbox"},[i("div",{staticClass:"search-input"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.page.searchKey,expression:"page.searchKey",modifiers:{trim:!0}}],staticClass:"input",attrs:{"confirm-type":"search",placeholder:"搜索礼金商品",focus:!0,"auto-focus":"","placeholder-class":"input-plholder"},domProps:{value:e.page.searchKey},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.query(t)},input:function(t){t.target.composing||e.$set(e.page,"searchKey",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.page.searchKey,expression:"page.searchKey"}],on:{click:e.cleanKey}},[i("md-icon",{attrs:{name:"close-fill",color:"#bcbcbc"}})],1)]),i("div",{staticClass:"query",on:{click:e.query}},[e._v("搜索")])]),i("div",{staticClass:"header-screen"},[i("div",{staticClass:"screen-top"},[i("div",{staticClass:"top-item",class:[0==e.tabIndex?"active bold":""],attrs:{"data-index":"0"},on:{click:e.screen}},[e._v("综合")]),i("div",{staticClass:"top-item",class:[1==e.tabIndex?"active bold":""],attrs:{"data-index":"1"},on:{click:e.screen}},[e._v("价格")]),i("div",{staticClass:"top-item",class:[2==e.tabIndex?"active bold":""],attrs:{"data-index":"2"},on:{click:e.screen}},[e._v("销量")])])])]),i("div",{staticClass:"container"},[i("infinite-loading",{attrs:{"is-show-mod":!0,"has-more":e.page.hasMore,"is-loading":e.loading,threshold:200},on:{loadmore:e.loadmore}},[i("div",{staticClass:"temp"},[i("span",{staticClass:"h2"},[e._v("先领礼金再下单")]),i("ul",e._l(e.recommends,(function(t,a){return i("li",{key:a,on:{click:function(i){return e.drawMessage(t)}}},[i("div",{staticClass:"text"},[i("span",[e._v("领取礼金")]),i("span",[e._v("下单先领取礼金")])]),i("div",{staticClass:"lijing"},[e._v("礼金")])])})),0)]),i("div",{staticClass:"list"},e._l(e.items,(function(e,t){return i("goods",{key:t,attrs:{itemData:e,goodsType:"shoudan"}})})),1),i("load-more",{attrs:{visible:e.loading}}),i("back-top",{attrs:{distance:0,bottom:100,right:20}})],1)],1)])},n=[],r=(i("6d57"),i("1e49")),o=i("73d1"),c=i("f2cf"),l=i.n(c),d=(i("cc57"),i("38a8")),u=i.n(d),h=i("db8e"),f=i("a288"),m=i("aa6b"),p=i("e1b0"),v=i("3919"),b={components:(a={loadMore:h["a"],navBar:m["a"],infiniteLoading:v["a"]},Object(o["a"])(a,u.a.name,u.a),Object(o["a"])(a,"backTop",p["a"]),Object(o["a"])(a,l.a.name,l.a),Object(o["a"])(a,"goods",f["a"]),a),data:function(){return{current:0,currentCid:0,navList:[],page:{searchKey:"",activeType:"",ipage:0,price1:"",price2:"",hasMore:!0},tabIndex:0,items:[],recommends:[],loading:!1}},mounted:function(){this.loadNav(),this.queryItems()},created:function(){},methods:{back:function(){this.$router.go(-1)},loadNav:function(){var e=this;this.$http.get("https://code.youdanhui.com/recommend.php",{}).then((function(t){t.data.list&&t.data.list&&(e.recommends=t.data.list,e.queryItems())}))},queryItems:function(e){var t=this;if(!this.loading){"tabChange"===e&&(this.items=[],this.page.ipage=0),this.loading=!0;var i="",a="";console.log(this.tabIndex),1===this.tabIndex?(a="p",i="desc"):2===this.tabIndex?(a="v",i="desc"):(a="t",i="desc"),this.page.ipage=this.page.ipage+1,this.$http.post("https://code.youdanhui.com/shoudan.php",{page:this.page.ipage,keyword:this.page.searchKey,orderType:i,order:a,pic_size:"300"}).then((function(i){var a;(t.loading=!1,i.data.data&&i.data.data)?"tabChange"===e?t.items=i.data.data:(a=t.items).push.apply(a,Object(r["a"])(i.data.data)):t.page.hasMore=!1}))}},changeTab:function(e,t,i){this.current=t,this.queryItems("tabChange")},loadmore:function(){this.loading||this.queryItems()},screen:function(e){var t=e.currentTarget.dataset.index;4===t?this.isList=!this.isList:(this.tabIndex=parseInt(t),this.queryItems("tabChange"))},cleanKey:function(){this.page.searchKey=""},query:function(){this.page.searchKey&&(this.page.ipage=0,this.queryItems("tabChange"))},drawMessage:function(e){this.$nav.postMessage({jump_type:"native",action:"load_action",role:"member",params:{load_url:"kuaibao",click_url:e.couponUrl}})}},computed:{navItems:function(){var e=[];return this.navList.forEach((function(t,i){e.push({name:t.cid,cid:t.cid,label:t.name})})),e}}},g=b,w=(i("24d3"),i("9ca4")),k=Object(w["a"])(g,s,n,!1,null,"c72fa8a4",null);t["default"]=k.exports}}]);