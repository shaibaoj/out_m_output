(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0938bff1"],{"0289":function(t,e,i){"use strict";var n=i("5194"),a=i.n(n);a.a},"0bbf":function(t,e,i){"use strict";var n=i("c251"),a=i.n(n);a.a},"2cd3":function(t,e,i){},3919:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"scroller",staticClass:"infinite-loading",on:{touchstart:function(e){return t.touchStartHandle(e)},touchmove:function(e){return t.touchMoveHandle(e)}}},[t._t("default"),i("div",{staticClass:"load-more"},[i("div",{staticClass:"bottom-tips"},[t.isLoading?[i("i",{staticClass:"loading-hint"}),i("span",{staticClass:"loading-txt"},[t._v("加载中...")])]:t.hasMore?t._e():i("span",{staticClass:"tips-txt"},[t._v("哎呀，这里是底部了啦")])],2)])],2)},a=[],o=(i("c5f6"),{name:"infinite-loading",props:{hasMore:{type:Boolean,default:!0},isLoading:{type:Boolean,default:!1},threshold:{type:Number,default:200},useWindow:{type:Boolean,default:!0},isShowMod:{type:Boolean,default:!1}},data:function(){return{startX:0,startY:0,diffX:0,diffY:0,beforeScrollTop:0}},mounted:function(){this.scrollListener()},methods:{touchStartHandle:function(t){try{this.startX=Number(t.changedTouches[0].pageX),this.startY=Number(t.changedTouches[0].pageY)}catch(t){console.log(t.message)}},touchMoveHandle:function(t){var e=Number(t.changedTouches[0].pageX),i=Number(t.changedTouches[0].pageY);this.diffX=e-this.startX,this.diffY=i-this.startY},scrollListener:function(){window.addEventListener("scroll",this.handleScroll,!1),window.addEventListener("resize",this.handleScroll,!1)},requestAniFrame:function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}},handleScroll:function(){var t=this;this.requestAniFrame()((function(){if(!t.hasMore||!t.isScrollAtBottom()||t.isLoading||!t.isShowMod)return!1;t.$emit("loadmore")}))},calculateTopPosition:function(t){return t?t.offsetTop+this.calculateTopPosition(t.offsetParent):0},getWindowScrollTop:function(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},isScrollAtBottom:function(){var t,e=this.getWindowScrollTop();if(this.useWindow)t=this.calculateTopPosition(this.$refs.scroller)+this.$refs.scroller.offsetHeight-e-window.innerHeight;else{var i=this.$refs.scroller,n=i.scrollHeight,a=i.clientHeight,o=i.scrollTop;t=n-a-o}this.beforeScrollTop;return this.beforeScrollTop=e,t<=this.threshold&&e>=this.beforeScrollTop}},destroyed:function(){window.removeEventListener("scroll",this.handleScroll,!1),window.removeEventListener("resize",this.handleScroll,!1)}}),s=o,r=(i("0bbf"),i("2877")),c=Object(r["a"])(s,n,a,!1,null,"9d36787a",null);e["a"]=c.exports},5194:function(t,e,i){},"5f9f":function(t,e,i){"use strict";var n=i("7095"),a=i.n(n);a.a},7095:function(t,e,i){},"80d7":function(t,e,i){"use strict";var n=i("2cd3"),a=i.n(n);a.a},aa6b:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav-bar"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.leftShow,expression:"leftShow"}],staticClass:"nav-left"},[i("div",{staticClass:"back",on:{click:function(e){return t.$emit("on-click-back")}}},[t._t("back-icon",[i("i",{staticClass:"back-icon"})])],2),t._t("left")],2),i("div",{staticClass:"nav-center"},[i("h3",{staticClass:"nav-title",on:{click:function(e){return t.$emit("on-click-title")}}},[t._t("default",[i("span",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"title"}]},[t._v(t._s(t.title))])])],2)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.rightShow,expression:"rightShow"}],staticClass:"nav-right"},[t._t("right"),i("div",{staticClass:"more",on:{click:function(e){return t.$emit("on-click-more")}}},[t._t("more-icon",[i("i",{staticClass:"more-icon"})])],2)],2)])},a=[],o={name:"nav-bar",props:{title:{type:String,default:"navBar"},leftShow:{type:Boolean,default:!0},rightShow:{type:Boolean,default:!0}},data:function(){return{}},methods:{onClickBack:function(){this.$router?this.$router.back():window.history.back()}}},s=o,r=(i("5f9f"),i("2877")),c=Object(r["a"])(s,n,a,!1,null,"96b87444",null);e["a"]=c.exports},bfb8:function(t,e,i){},c251:function(t,e,i){},db8e:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("div",{staticClass:"loadmore"},[i("div",{class:["loading-"+t.index,3==t.index&&t.type?"loading-"+t.type:""]}),i("div",{staticClass:"loadmore-tips"},[t._v(t._s(t.text))])]):t._e()},a=[],o=(i("c5f6"),{name:"load-more",props:{text:{type:String,default:"正在加载..."},visible:{type:Boolean,default:!1},index:{type:Number,default:1},type:{type:String,default:""}}}),s=o,r=(i("f7dd"),i("2877")),c=Object(r["a"])(s,n,a,!1,null,"001f267e",null);e["a"]=c.exports},e1b0:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["back-top",{show:t.backTop}],style:t.styles,on:{click:t.goto}},[t._t("default",[t._m(0)])],2)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"back-top-main"},[i("img",{attrs:{src:"https://img.youdanhui.cn/cms_img/2020-08-26/5f46731e2db47.png"}})])}],o=(i("c5f6"),{name:"back-top",props:{distance:{type:Number,default:200},bottom:{type:Number,default:20},right:{type:Number,default:10},duration:{type:Number,default:1e3},zIndex:{type:Number,default:1111}},data:function(){return{backTop:!1}},mounted:function(){window.addEventListener("scroll",this.handleScroll,!1),window.addEventListener("resize",this.handleScroll,!1)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll,!1),window.removeEventListener("resize",this.handleScroll,!1)},computed:{styles:function(){return{bottom:"".concat(this.bottom,"px"),right:"".concat(this.right,"px"),"z-index":this.zIndex}}},methods:{handleScroll:function(){this.backTop=window.pageYOffset>=this.distance},goto:function(){var t=document.documentElement.scrollTop||document.body.scrollTop;this.scrollTop(window,t,0,this.duration),this.$emit("click")},scrollTop:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4?arguments[4]:void 0;this.el=t;for(var o=0,s=["webkit","moz"],r=0;r<s.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[s[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s[r]+"CancelAnimationFrame"]||window[s[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var i=(new Date).getTime(),n=Math.max(0,16.7-(i-o)),a=window.setTimeout((function(){t(i+n)}),n);return o=i+n,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)});var c=Math.abs(e-i),l=Math.ceil(c/n*50);this.scroll(e,i,l,a)},scroll:function(t,e,i,n){var a=this;if(t!==e){var o=t+i>e?e:t+i;t>e&&(o=t-i<e?e:t-i),this.el===window?window.scrollTo(o,o):this.el.scrollTop=o,window.requestAnimationFrame((function(){return a.scroll(o,e,i)}))}else n&&n()}}}),s=o,r=(i("0289"),i("2877")),c=Object(r["a"])(s,n,a,!1,null,"62dd950b",null);e["a"]=c.exports},ea90:function(t,e,i){"use strict";i.r(e);var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("div",{staticClass:"container"},[i("infinite-loading",{attrs:{"is-show-mod":!0,"has-more":t.page.hasMore,"is-loading":t.loading,threshold:200},on:{loadmore:t.loadmore}},[i("div",{staticClass:"list"},t._l(t.items,(function(e,n){return i("goods",{key:n,attrs:{itemData:{type:e.type,content:e.title,pic_url:t.cdnImg(e.img),coupon_money:e.item.coupon,url:e.url,volume:e.monthSales,source:e.item.source,num_iid:"京东"==e.item.source?"jd"+e.item.sid:(e.item.source,e.item.sid)},goodsType:"topic"}})})),1),i("back-top",{attrs:{distance:0,bottom:100,right:20}})],1)],1)])},o=[],s=(i("ac6a"),i("a481"),i("75fc")),r=i("bd86"),c=i("26c9"),l=i.n(c),d=(i("7f7f"),i("aed6")),u=i.n(d),h=i("db8e"),m=i("a288"),f=i("aa6b"),p=i("e1b0"),v=i("3919"),g=i("a2c5"),w=i.n(g),b={components:(n={loadMore:h["a"],navBar:f["a"],infiniteLoading:v["a"]},Object(r["a"])(n,u.a.name,u.a),Object(r["a"])(n,"backTop",p["a"]),Object(r["a"])(n,l.a.name,l.a),Object(r["a"])(n,"goods",m["a"]),n),data:function(){return{current:0,currentCid:0,navList:[],page:{ipage:0,price1:"",price2:"",hasMore:!0,page_size:30},items:[],loading:!1}},mounted:function(){this.loadData()},created:function(){},methods:{back:function(){this.$router.go(-1)},loadNav:function(){var t=this;this.$http.post("/app/page/nav",{nav_types:""}).then((function(e){var i;e.data.items&&e.data.items.items&&((i=t.navList).push.apply(i,Object(s["a"])(e.data.items.items)),t.loadData())}))},loadData:function(t){var e=this;this.loading||("tabChange"===t&&(this.items=[],this.page.ipage=0),this.loading=!0,this.$http.post("https://xsj.heytmall.com/api/web/crawl/list",{page:this.page.ipage,limit:this.page.page_size}).then((function(i){if(e.loading=!1,i.data.list&&i.data.list){var n;if("tabChange"===t)e.items=i.data.list;else(n=e.items).push.apply(n,Object(s["a"])(i.data.list));e.page.ipage=i.data.page}else e.page.hasMore=!1})))},changeTab:function(t,e,i){this.current=e,this.loadData("tabChange")},loadmore:function(){this.loading||this.loadData()},cdnImg:function(t){return"https://imgcdn.youdanhui.com/imgcdn/"+w.a.MD5(t)+".jpg?src="+encodeURIComponent(t)},highlight:function(t){return t=t.replace(/([0-9.]+)元([包邮]*)/g,"<span class='highlight' style='color:red'>$1元$2</span>"),t},postMessage:function(t){if("goods"==t.type){var e={title:t.title,load_url:"kuaibao",click_url:t.url};"京东"==t.item.source?e["jd_id"]=t.item.sid:(t.item.source,e["num_iid"]=t.item.sid),this.$nav.postMessage({jump_type:"native",action:"load_action",role:"member",params:e})}}},computed:{navItems:function(){var t=[];return this.navList.forEach((function(e,i){t.push({name:e.cid,cid:e.cid,label:e.name})})),t}}},y=b,_=(i("80d7"),i("2877")),k=Object(_["a"])(y,a,o,!1,null,"28a3c3e0",null);e["default"]=k.exports},f7dd:function(t,e,i){"use strict";var n=i("bfb8"),a=i.n(n);a.a}}]);