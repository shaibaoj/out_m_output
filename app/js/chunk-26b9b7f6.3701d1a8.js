(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26b9b7f6"],{"0c2c":function(e,t,a){"use strict";var s=a("72e5"),r=a.n(s);r.a},"0e11":function(e,t,a){},"72e5":function(e,t,a){},8819:function(e,t,a){"use strict";var s=a("0e11"),r=a.n(s);r.a},bb945:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout"},[a("md-tab-bar",{attrs:{items:e.items},model:{value:e.current,callback:function(t){e.current=t},expression:"current"}}),1===e.current?a("Share-page"):2===e.current?a("Data-page"):e._e()],1)},r=[],n=a("f2cf"),i=a.n(n),o=a("35f4"),c=a.n(o),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("md-scroll-view",{ref:"scrollView",attrs:{"scrolling-x":!1},on:{"end-reached":e.loadData}},[1==e.page.query&&0==e.page.items.length?a("div",{staticClass:"empty"},[a("md-result-page",{staticClass:"customized",attrs:{"img-url":"https://img.youdanhui.cn/cms_img/2020-07-30/5f22b757a0033.png",text:"搜索结果为空...",subtext:"要不然刷新试试？"}})],1):e._e(),e._l(e.page.items,(function(t,s){return a("div",{key:s,staticClass:"item"},[a("div",{staticClass:"action-box "},[a("span",[e._v(e._s(t.title))]),a("span")]),a("div",{staticClass:"action-box "},[a("span",[e._v("平台:"+e._s(t.platform))]),a("span")]),a("div",{staticClass:"action-box "},[t.member.nick_name&&""!=t.member.nick_name?a("span",[e._v("分享者："+e._s(t.member.nick_name))]):a("span",[e._v("分享者："+e._s(t.member.user_name))]),a("span",[e._v(e._s(t.create_date))])])])})),a("md-scroll-view-more",{attrs:{slot:"more","is-finished":e.page.isFinished},slot:"more"})],2)],1)},l=[],d=a("1b88"),u=a.n(d),h=a("1857"),p=a.n(h),f=a("ec20"),b=a.n(f),g=a("026f"),v=a.n(g),_=a("2f41"),y=a.n(_),w=a("751a");const O={list:"cms.market.share.list",view:"cms.market.share.view",update:"cms.market.share.update"};function k(e){return w["a"].post(O.list,e)}function x(e){return w["a"].post(O.view,e)}function j(e){return w["a"].post(O.update,e)}var C={name:"Brand",components:{[y.a.name]:y.a,[v.a.name]:v.a,[b.a.name]:b.a,[p.a.name]:p.a,[u.a.name]:u.a},data(){return{page:{items:[],ipage:0,hasMore:!0,isFinished:!1,query:0}}},created(){this.loadData()},methods:{moment:c.a,loadData(){this.page.isFinished||(this.page.ipage=this.page.ipage+1,k({ipage:this.page.ipage,maxMoney:.01,status:this.tabCurrentIndex}).then(e=>{e.data.items&&e.data.items?this.page.items.push(...e.data.items):this.page.isFinished=!1,this.$refs.scrollView.finishLoadMore(),this.page.query=1}))},query(){this.$refs.table.refresh(!0)},onSelectChange(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced(){this.advanced=!this.advanced},resetSearchForm(){this.queryParam={date:c()(new Date)}}}},P=C,$=(a("0c2c"),a("9ca4")),D=Object($["a"])(P,m,l,!1,null,"000332d4",null),S=D.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"fields"},[a("md-field",{attrs:{title:"分享奖励",brief:"用户分享的奖励机制"}},[a("md-cell-item",{attrs:{title:"是否开通",brief:""}},[a("md-switch",{attrs:{slot:"right"},slot:"right",model:{value:e.page.share.share_status,callback:function(t){e.$set(e.page.share,"share_status",t)},expression:"page.share.share_status"}})],1)],1),a("md-field",{attrs:{title:"奖励范围",disabled:!e.page.share.share_status}},[a("md-radio-group",{attrs:{disabled:!e.page.share.share_status},model:{value:e.form.share_range,callback:function(t){e.$set(e.form,"share_range",t)},expression:"form.share_range"}},[a("md-radio-box",{attrs:{name:"3"}},[e._v("微信分享奖励")])],1)],1),a("md-field",{attrs:{title:"分享奖励",disabled:!e.page.share.share_status}},[a("md-input-item",{attrs:{title:"现金",placeholder:"最小0.01元",brief:"每次分享获取"+e.form.money+"元（最小0.0001），发放会扣发团长余额"},model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}}),a("md-input-item",{attrs:{title:"积分",placeholder:"输入积分",brief:"每次分享获取"+e.form.point+"积分（最小1），10000个积分=1元，发放会扣发团长余额"},model:{value:e.form.point,callback:function(t){e.$set(e.form,"point",t)},expression:"form.point"}})],1),a("md-field",{attrs:{title:"奖励浏览条件",disabled:!e.page.share.share_status}},[a("md-input-item",{attrs:{title:"浏览次数",brief:"分享内容需要（"+e.form.views+"次浏览才算成功，不成功无法获取奖励）"},model:{value:e.form.views,callback:function(t){e.$set(e.form,"views",t)},expression:"form.views"}}),a("md-input-item",{attrs:{title:"每天最大奖励次数",solid:!1,brief:"每个用户每天分享能得（"+e.form.day_times+"次奖励，超过后分享成功也没有奖励了）"},model:{value:e.form.day_times,callback:function(t){e.$set(e.form,"day_times",t)},expression:"form.day_times"}})],1),a("md-field",[a("md-button",{attrs:{type:"primary",round:""},on:{click:e.handleSubmit}},[e._v("保存")])],1)],1)])},F=[],E=(a("6d57"),a("21a1")),R=a.n(E),M=a("73d1"),A=a("448a"),J=a.n(A),K=a("e063"),T=a.n(K),V=a("40bf"),z=a.n(V),B=a("b1ef"),G=a.n(B),I=a("87cf"),L=a.n(I),H=a("eaad"),N=a.n(H),Q=a("85ee"),U=a.n(Q),W=a("5880");function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(Object(a),!0).forEach((function(t){Object(M["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z={components:{[N.a.name]:N.a,[L.a.name]:L.a,[G.a.name]:G.a,[v.a.name]:v.a,[z.a.name]:z.a,[T.a.name]:T.a,[J.a.name]:J.a,[b.a.name]:b.a},computed:Y({},Object(W["mapGetters"])(["token"])),data(){return{form:{share_range:"3",money:0,point:0,views:0,day_times:0},page:{share:{share_status:!1}}}},created(){},mounted(){this.init()},methods:{init(){this.query()},query(){x().then(e=>{e.data.item&&this.$nextTick(()=>{const t=U()(e.data.item,["share_range","money","point","views","day_times"]);t.share_range=""+t.share_range,this.form=Object.assign(this.form,t),this.page.share.share_status=1===e.data.item.share_status})})},handleSubmit(e){j(Object.assign(this.form,{share_status:this.page.share.share_status})).then(e=>{const t=e||{},a=t.info;0===(a||{}).status&&R.a.succeed("保存成功")})}}},ee=Z,te=(a("8819"),Object($["a"])(ee,q,F,!1,null,"2f9357bc",null)),ae=te.exports,se={name:"Page",components:{SharePage:S,DataPage:ae,[i.a.name]:i.a},data(){return{current:1,items:[{name:1,label:"分享明细"},{name:2,label:"分享设置"}]}},created(){},methods:{handleTabChange(e,t){this[t]=e},query(){this.$refs.table.refresh(!0)},onSelectChange(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced(){this.advanced=!this.advanced},resetSearchForm(){this.queryParam={date:c()(new Date)}}}},re=se,ne=Object($["a"])(re,s,r,!1,null,null,null);t["default"]=ne.exports}}]);