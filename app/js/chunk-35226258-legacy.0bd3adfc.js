(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35226258"],{"2f41":function(t,e,s){var i,r,o;(function(){(function(n,l){r=[e,s("aa31"),s("cb12"),s("e126"),s("0f33"),s("979a")],i=l,o="function"===typeof i?i.apply(e,r):i,void 0===o||(t.exports=o)})(0,(function(t,e,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(s);function o(t){return t&&t.__esModule?t:{default:t}}t.default={name:"md-scroll-view",props:{scrollingX:{type:Boolean,default:!0},scrollingY:{type:Boolean,default:!0},bouncing:{type:Boolean,default:!0},autoReflow:{type:Boolean,default:!1},manualInit:{type:Boolean,default:!1},endReachedThreshold:{type:Number,default:0},immediateCheckEndReaching:{type:Boolean,default:!1},touchAngle:{type:Number,default:45},isPrevent:{type:Boolean,default:!0}},data:function(){return{container:null,content:null,refresher:null,more:null,scroller:null,refreshOffsetY:0,isInitialed:!1,isMouseDown:!1,isRefreshing:!1,isRefreshActive:!1,isEndReachingStart:!1,isEndReaching:!1,scrollX:null,scrollY:null,startX:0,startY:0,currentX:0,currentY:0,containerW:0,containerH:0,contentW:0,contentH:0,reflowTimer:null,endReachedHandler:null}},computed:{hasRefresher:function(){return!(!this.$slots.refresh&&!this.$scopedSlots.refresh)},hasMore:function(){return!(!this.$slots.more&&!this.$scopedSlots.more)}},watch:{autoReflow:function(t){t?this.$_initAutoReflow():this.$_destroyAutoReflow()}},mounted:function(){this.manualInit||this.$_initScroller()},destroyed:function(){this.$_destroyAutoReflow()},methods:{$_initScroller:function(){var t=this;if(!this.isInitialed){this.container=this.$el,this.refresher=this.$el.querySelector(".scroll-view-refresh"),this.more=this.$el.querySelector(".scroll-view-more"),this.content=this.$el.querySelector(".scroll-view-container"),this.refreshOffsetY=this.refresher?this.refresher.clientHeight:0,this.moreOffsetY=this.more?this.more.clientHeight:0;var s=this.container,o=this.content,n=s.getBoundingClientRect(),l=new r.default((function(e,s){(0,i.render)(o,e,s),t.isInitialed&&t.$_onScroll(e,s)}),{scrollingX:this.scrollingX,scrollingY:this.scrollingY,bouncing:this.bouncing,zooming:!1,animationDuration:200,speedMultiplier:1.2,inRequestAnimationFrame:!0});l.setPosition(n.left+s.clientLeft,n.top+s.clientTop),this.hasRefresher&&l.activatePullToRefresh(this.refreshOffsetY,(function(){t.isRefreshActive=!0,t.isRefreshing=!1,t.$emit("refreshActive")}),(function(){t.isRefreshActive=!1,t.isRefreshing=!1}),(function(){t.isRefreshActive=!1,t.isRefreshing=!0,t.$emit("refreshing")})),this.scroller=l,this.reflowScroller(!0),this.autoReflow&&this.$_initAutoReflow(),this.endReachedHandler=(0,e.debounce)((function(){t.isEndReaching=!0,t.$emit("endReached"),t.$emit("end-reached")}),50),setTimeout((function(){t.isInitialed=!0}),50),this.immediateCheckEndReaching&&this.$nextTick(this.$_checkScrollerEnd)}},$_initAutoReflow:function(){var t=this;this.$_destroyAutoReflow(),this.reflowTimer=setInterval((function(){t.reflowScroller()}),100)},$_destroyAutoReflow:function(){this.reflowTimer&&clearInterval(this.reflowTimer)},$_checkScrollerEnd:function(){if(this.scroller){var t=this.scroller._clientHeight,e=this.scroller._contentHeight,s=this.scroller._scrollTop,i=this.moreOffsetY,r=this.endReachedThreshold,o=e-t-(s+i+r);s>=0&&!this.isEndReaching&&o<=0&&this.endReachedHandler&&(this.isEndReachingStart=!0,this.endReachedHandler())}},$_getScrollerAngle:function(){var t=this.currentX-this.startX,e=this.currentY-this.startY,s=180*Math.atan2(Math.abs(e),Math.abs(t))/Math.PI;return this.scrollingX?90-s:s},$_onScrollerTouchStart:function(t){this.scroller&&(this.startX=t.targetTouches[0].pageX,this.startY=t.targetTouches[0].pageY,this.scroller.doTouchStart(t.touches,t.timeStamp))},$_onScrollerTouchMove:function(t){if(this.scroller){var e=!1;if(this.isPrevent&&(t.preventDefault(),e=!0),this.currentX=t.targetTouches[0].pageX,this.currentY=t.targetTouches[0].pageY,!this.scrollingX||!this.scrollingY){var s=this.$_getScrollerAngle();if(s<this.touchAngle)return}!e&&t.cancelable&&t.preventDefault(),this.scroller.doTouchMove(t.touches,t.timeStamp,t.scale);var i=15,r=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,o=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,n=this.currentX-r,l=this.currentY-o;(n>document.documentElement.clientWidth-i||l>document.documentElement.clientHeight-i||n<i||l<i)&&this.scroller.doTouchEnd(t.timeStamp)}},$_onScrollerTouchEnd:function(t){this.scroller&&this.scroller.doTouchEnd(t.timeStamp)},$_onScrollerMouseDown:function(t){this.scroller&&(this.startX=t.pageX,this.startY=t.pageY,this.scroller.doTouchStart([{pageX:t.pageX,pageY:t.pageY}],t.timeStamp),this.isMouseDown=!0)},$_onScrollerMouseMove:function(t){if(this.scroller&&this.isMouseDown){if(this.currentX=t.pageX,this.currentY=t.pageY,!this.scrollingX||!this.scrollingY){var e=this.$_getScrollerAngle();if(e<this.touchAngle)return}this.scroller.doTouchMove([{pageX:t.pageX,pageY:t.pageY}],t.timeStamp),this.isMouseDown=!0}},$_onScrollerMouseUp:function(t){this.scroller&&this.isMouseDown&&(this.scroller.doTouchEnd(t.timeStamp),this.isMouseDown=!1)},$_onScroll:function(t,e){t=+t.toFixed(2),e=+e.toFixed(2),this.scrollX===t&&this.scrollY===e||(this.scrollX=t,this.scrollY=e,this.$_checkScrollerEnd(),this.$emit("scroll",{scrollLeft:t,scrollTop:e}))},init:function(){var t=this;this.$nextTick((function(){t.$_initScroller()}))},scrollTo:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.scroller&&this.scroller.scrollTo(t,e,s)},getOffsets:function(){return this.scroller?this.scroller.getValues():{left:0,top:0}},reflowScroller:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=this.container,i=this.content;this.scroller&&s&&i&&this.$nextTick((function(){var r=s.clientWidth,o=s.clientHeight,n=i.offsetWidth,l=i.offsetHeight;(e||t.containerW!==r||t.containerH!==o||t.contentW!==n||t.contentH!==l)&&(t.scroller.setDimensions(s.clientWidth,s.clientHeight,i.offsetWidth,i.offsetHeight),t.containerW=r,t.containerH=o,t.contentW=n,t.contentH=l)}))},triggerRefresh:function(){this.scroller&&this.scroller.triggerPullToRefresh()},finishRefresh:function(){this.scroller&&(this.scroller.finishPullToRefresh(),this.reflowScroller())},finishLoadMore:function(){this.scroller&&(this.isEndReachingStart=!1,this.isEndReaching=!1,this.reflowScroller())}}}}))})(),t.exports.__esModule&&(t.exports=t.exports.default);var n="function"===typeof t.exports?t.exports.options:t.exports;n.render=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"md-scroll-view",on:{touchstart:t.$_onScrollerTouchStart,touchmove:t.$_onScrollerTouchMove,touchend:t.$_onScrollerTouchEnd,touchcancel:t.$_onScrollerTouchEnd,mousedown:t.$_onScrollerMouseDown,mousemove:t.$_onScrollerMouseMove,mouseup:t.$_onScrollerMouseUp,mouseleave:t.$_onScrollerMouseUp}},[t.$slots.header?s("div",{staticClass:"scroll-view-header"},[t._t("header")],2):t._e(),t._v(" "),s("div",{staticClass:"scroll-view-container",class:{horizon:t.scrollingX&&!t.scrollingY},attrs:{"scroll-wrapper":""}},[t.hasRefresher?s("div",{staticClass:"scroll-view-refresh",class:{refreshing:t.isRefreshing,"refresh-active":t.isRefreshActive}},[t._t("refresh",null,{scrollTop:t.scrollY,isRefreshing:t.isRefreshing,isRefreshActive:t.isRefreshActive})],2):t._e(),t._v(" "),t._t("default"),t._v(" "),t.hasMore?s("div",{staticClass:"scroll-view-more",class:{active:t.isEndReachingStart||t.isEndReaching}},[t._t("more",null,{isEndReaching:t.isEndReachingStart||t.isEndReaching})],2):t._e()],2),t._v(" "),t.$slots.footer?s("div",{staticClass:"scroll-view-footer"},[t._t("footer")],2):t._e()])},n.staticRenderFns=[]},"5d2f":function(t,e,s){"use strict";s.r(e);var i,r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"searchbox"},[s("div",{staticClass:"go-home",on:{click:t.goHome}},[s("md-icon",{attrs:{name:"arrow-left",color:"#fff",size:"lg"}})],1),s("div",{staticClass:"search-input",on:{click:t.search}},[s("span",{staticClass:"search-text"},[t._v("搜索宝贝")])])]),s("md-scroll-view",{staticClass:"tab-view",attrs:{"scrolling-x":!1,"scroll-with-animation":"","scroll-top":t.scrollTop}},t._l(t.tabbar,(function(e,i){return s("div",{key:i,staticClass:"tab-bar-item",class:[t.currentTab==i?"active":""],attrs:{"data-current":i},on:{click:function(e){return e.stopPropagation(),t.swichNav(e)}}},[s("span",[t._v(t._s(e.name))])])})),0),s("md-scroll-view",{staticClass:"right-box",attrs:{"scrolling-x":!1}},[s("div",{staticClass:"page-view"},[s("div",{staticClass:"class-box"},[s("div",{staticClass:"class-item"},[s("div",{staticClass:"class-name"},[t._v(t._s(t.navItem.name))]),s("div",{staticClass:"g-container-list"},t._l(t.items,(function(e,i){return s("div",{key:i,staticClass:"g-box"},[s("a",{attrs:{href:e.click_url,target:"_blank"}},[s("img",{staticClass:"g-image",attrs:{src:e.pic_url}}),s("div",{staticClass:"g-title"},[t._v(t._s(e.sitename))]),e.commission_rate?s("div",{staticClass:"g-rate"},[t._v("最高返"+t._s(e.commission_rate))]):t._e()])])})),0)])])])])],1)},o=[],n=s("73d1"),l=s("2f41"),c=s.n(l),a=(s("cc57"),s("38a8")),h=s.n(a),u={components:(i={},Object(n["a"])(i,h.a.name,h.a),Object(n["a"])(i,c.a.name,c.a),i),data:function(){return{tabbar:[],items:[],navItem:{},height:0,currentTab:0,scrollTop:0}},created:function(){},mounted:function(){this.query()},methods:{goHome:function(){this.$nav.navTo("/",{})},navToPage:function(t,e){var s=this;this.$nextTick((function(){s.$router.push({path:t,query:e||{}})}))},search:function(){this.navToPage("/search/search")},query:function(){var t=this;this.$http.post("/cms.mall.type_list",{}).then((function(e){e.data.items&&(t.tabbar=e.data.items),t.query_items()}))},query_items:function(){var t=this;this.navItem=this.tabbar[this.currentTab];this.navItem.cid;this.$http.post("/cms.mall.list",{type_name:this.navItem.name}).then((function(e){e.data.items&&(t.items=e.data.items)}))},swichNav:function(t){var e=t.currentTarget.dataset.current;if(this.currentTab===e)return!1;this.currentTab=e,this.checkCor(),this.query_items()},checkCor:function(){var t=this;t.currentTab>7?t.scrollTop=500:t.scrollTop=0},navAction:function(t){window.location.href=t.click_url},load_action:function(t){},open_web:function(t){window.location.href=t.params.url}}},f=u,d=(s("b26f"),s("9ca4")),m=Object(d["a"])(f,r,o,!1,null,"8541ad0c",null);e["default"]=m.exports},"979a":function(t,e,s){},b26f:function(t,e,s){"use strict";var i=s("e979"),r=s.n(i);r.a},e979:function(t,e,s){}}]);