(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67d69918"],{"000b":function(e,t,a){},2273:function(e,t,a){var s,i,n;(function(){(function(r,o){i=[t,a("cdfc"),a("4425")],s=o,n="function"===typeof s?s.apply(t,i):s,void 0===n||(e.exports=n)})(0,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"md-switch",props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},methods:{$_onChange:function(e){this.disabled||(this.$emit("input",!this.value),this.$emit("change",e))}}}}))})(),e.exports.__esModule&&(e.exports=e.exports.default);var r="function"===typeof e.exports?e.exports.options:e.exports;r.render=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"md-switch",class:[e.disabled?"disabled":"",e.value?"active":""],on:{click:function(t){return e.$_onChange(t)}}})},r.staticRenderFns=[]},"234b":function(e,t,a){},"26c9":function(e,t,a){var s,i,n;(function(){(function(r,o){i=[t,a("556d"),a("cdfc"),a("234b")],s=o,n="function"===typeof s?s.apply(t,i):s,void 0===n||(e.exports=n)})(0,(function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(t);function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}e.default={name:"md-tab-bar",components:i({},a.default.name,a.default),props:{value:{type:[String,Number],default:""},items:{type:Array,default:function(){return[]}},hasInk:{type:Boolean,default:!0},inkLength:{type:Number,default:100},immediate:{type:Boolean,default:!1}},data:function(){return{currentName:"",wrapperW:0,contentW:0,inkWidth:0,inkPos:0,scrollerTmpKey:Date.now(),maskStartShown:!1,maskEndShown:!0}},computed:{scrollable:function(){return this.contentW>this.wrapperW},currentIndex:function(){for(var e=0,t=this.items.length;e<t;e++)if(this.items[e].name===this.currentName)return e},currentTab:function(){if(this.currentIndex)return this.items[this.currentIndex]}},watch:{value:{immediate:!0,handler:function(e){e!==this.currentName&&(this.currentName=e)}},inkWidth:function(){this.$nextTick((function(){this.reflow()}))},items:function(){this.$nextTick((function(){this.reflow()}))},currentIndex:function(){this.$nextTick((function(){this.reflow()}))},scrollable:function(){this.scrollerTmpKey=Date.now()}},created:function(){""===this.currentName&&this.items.length&&(this.currentName=this.items[0].name,this.$emit("change",this.items[0],0,0))},mounted:function(){this.$_resizeEnterBehavior()},activated:function(){this.$_resizeEnterBehavior()},deactivated:function(){this.$_resizeLeaveBehavior()},beforeDestroy:function(){this.$_resizeLeaveBehavior()},methods:{$_onScroll:function(e){var t=e.scrollLeft;this.maskStartShown=t>0,t>=this.$refs.scroller.contentW-this.$refs.scroller.containerW?this.maskEndShown=!1:this.maskEndShown=!0},$_onClick:function(e,t){e.disabled||(this.$emit("change",e,t,this.currentIndex),this.currentName=e.name,this.$emit("input",e.name))},$_resizeEnterBehavior:function(){var e=this;window.addEventListener("resize",this.reflow),this.reflow(),this.immediate&&this.$nextTick((function(){e.$emit("change",e.items[e.currentIndex],e.currentIndex)}))},$_resizeLeaveBehavior:function(){window.removeEventListener("resize",this.reflow)},reflow:function(){var e=this;if(this.$refs.items&&0!==this.$refs.items.length){var t=this.$refs.wrapper.getBoundingClientRect();this.wrapperW=t.width;for(var a=0,s=0,i=this.items.length;s<i;s++){var n=this.$refs.items[s].getBoundingClientRect(),r=n.width;a+=r}this.contentW=a,this.$refs.scroller.reflowScroller(),this.$nextTick((function(){if(e.$refs.items&&e.$refs.items[e.currentIndex]){var t=e.$refs.items[e.currentIndex];e.inkWidth=t.offsetWidth*e.inkLength/100,e.inkPos=t.offsetLeft+(t.offsetWidth-e.inkWidth)/2;var a=e.$refs.items[e.currentIndex-1],s=e.$refs.items[e.currentIndex+1];if(a)if(s){var i=e.$refs.wrapper.getBoundingClientRect(),n=a.getBoundingClientRect(),r=s.getBoundingClientRect();n&&n.left<i.left?e.$refs.scroller.scrollTo(a.offsetLeft,0,!0):r&&r.right>i.right&&e.$refs.scroller.scrollTo(s.offsetLeft+s.offsetWidth-e.wrapperW,0,!0)}else e.$refs.scroller.scrollTo(e.contentW,0,!0);else e.$refs.scroller.scrollTo(0,0,!0)}}))}}}}}))})(),e.exports.__esModule&&(e.exports=e.exports.default);var r="function"===typeof e.exports?e.exports.options:e.exports;r.render=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"md-tab-bar"},[a("div",{ref:"wrapper",staticClass:"md-tab-bar-inner"},[e.scrollable?[a("div",{directives:[{name:"show",rawName:"v-show",value:e.maskStartShown,expression:"maskStartShown"}],staticClass:"md-tab-bar-start"}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.maskEndShown,expression:"maskEndShown"}],staticClass:"md-tab-bar-end"})]:e._e(),e._v(" "),a("md-scroll-view",{key:e.scrollerTmpKey,ref:"scroller",attrs:{"scrolling-x":e.scrollable,"scrolling-y":!1},on:{scroll:e.$_onScroll}},[a("div",{staticClass:"md-tab-bar-list",style:{width:e.contentW+"px"}},e._l(e.items,(function(t,s){return a("a",{key:t.name,ref:"items",refInFor:!0,staticClass:"md-tab-bar-item",class:{"is-active":e.currentName===t.name,"is-disabled":!!t.disabled},on:{click:function(a){return e.$_onClick(t,s)}}},[e._t("item",[e._v(e._s(t.label))],{item:t,items:e.items,index:s,currentName:e.currentName})],2)})),0),e._v(" "),e.hasInk?a("span",{staticClass:"md-tab-bar-ink",class:{"is-disabled":e.currentTab&&e.currentTab.disabled},style:{width:e.inkWidth+"px",transform:"translateX("+e.inkPos+"px)"}}):e._e()])],2)])},r.staticRenderFns=[]},"2d0d":function(e,t,a){},4425:function(e,t,a){},"58a7":function(e,t,a){"use strict";var s=a("7282"),i=a.n(s);i.a},"63ea":function(e,t,a){},7282:function(e,t,a){},a05b:function(e,t,a){"use strict";var s=a("63ea"),i=a.n(s);i.a},affe:function(e,t,a){},c620:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout"},[a("md-tab-bar",{attrs:{items:e.items},model:{value:e.current,callback:function(t){e.current=t},expression:"current"}}),1===e.current?a("Miandan-page"):2===e.current?a("Data-page"):3===e.current?a("Duihuan-page"):e._e()],1)},i=[],n=a("26c9"),r=a.n(n),o=a("c1df"),c=a.n(o),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("md-scroll-view",{ref:"scrollView",attrs:{"scrolling-x":!1},on:{"end-reached":e.loadData}},[1==e.page.query&&0==e.page.items.length?a("div",{staticClass:"empty"},[a("md-result-page",{staticClass:"customized",attrs:{"img-url":"https://img.youdanhui.cn/cms_img/2020-07-30/5f22b757a0033.png",text:"搜索结果为空...",subtext:"要不然刷新试试？"}})],1):e._e(),e._l(e.page.items,(function(t,s){return a("div",{key:s,staticClass:"item"},[a("div",{staticClass:"item-line"},[a("div",{staticClass:"avatar"},[a("img",{staticClass:"portrait",attrs:{src:t.pic_url||"https://img.youdanhui.cn/cms_img/2019-08-28/5d663304b1244.png"}})]),a("div",{staticClass:"avatar-content"},[a("div",{staticClass:"action-box"},[a("span",[e._v(e._s(t.title))]),a("span",[e._v(e._s(t.create_date))])]),t.vip?a("div",{staticClass:"action-box"},[a("span",[e._v("激活时间:"+e._s(t.vip.activated_at))]),a("span")]):e._e()])]),a("div",{staticClass:"item-data"},[a("div",{staticClass:"item-data-it"},[a("span",[e._v(e._s(t.volume))]),a("span",[e._v("销量")])]),a("div",{staticClass:"item-data-it"},[a("span",[e._v(e._s(t.commission))]),a("span",[e._v("佣金")])]),a("div",{staticClass:"item-data-it"},[a("span",[e._v(e._s(t.commission_rate))]),a("span",[e._v("佣金比例")])]),a("div",{staticClass:"item-data-it"},[a("span",[e._v(e._s(t.price-t.commission))]),a("span",[e._v("预估成本")])])])])})),a("md-scroll-view-more",{attrs:{slot:"more","is-finished":e.page.isFinished},slot:"more"})],2)],1)},l=[],m=a("50de"),u=a.n(m),f=a("2d9a"),p=a.n(f),h=a("0aec"),v=a.n(h),g=a("af88"),b=a.n(g),_=a("556d"),w=a.n(_),y=a("751a");const x={getItems:"cms.market.miandan.list",getItemsSale:"cms.market.miandan.list_sale",getItemsCode:"cms.market.miandan.list_code",getView:"cms.market.miandan.view",deleteGoods:"cms.market.miandan.deleteGoods",updateGoods:"cms.market.miandan.updateGoods",getViewTuijian:"cms.market.miandan.tuijianGoods",updateItem:"cms.market.miandan.update"};function C(e){return y["a"].post(x.updateGoods,e)}function k(e){return y["a"].post(x.deleteGoods,e)}function $(e){return y["a"].post(x.getItemsCode,e)}function O(e){return y["a"].post(x.getItems,e)}function S(e){return y["a"].post(x.getView,e)}function j(e){return y["a"].post(x.updateItem,e)}var I={name:"Brand",components:{[w.a.name]:w.a,[b.a.name]:b.a,[v.a.name]:v.a,[p.a.name]:p.a,[u.a.name]:u.a},data(){return{page:{items:[],ipage:0,hasMore:!0,isFinished:!1,query:0}}},created(){this.loadData()},methods:{moment:c.a,loadData(){this.page.isFinished||(this.page.ipage=this.page.ipage+1,O({ipage:this.page.ipage,maxMoney:.01,status:this.tabCurrentIndex}).then(e=>{e.data.items?this.page.items.push(...e.data.items):this.page.isFinished=!1,this.$refs.scrollView.finishLoadMore(),this.page.query=1}))},query(){this.$refs.table.refresh(!0)},onSelectChange(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced(){this.advanced=!this.advanced},resetSearchForm(){this.queryParam={date:c()(new Date)}},handleUpdate(e,t){C({num_iid:e.num_iid,status:t}).then(e=>{this.$refs.table.refresh(!0)})},handleDelete(e){this.$confirm({title:"提示",content:"真的要删除么 ?",onOk:()=>{k({num_iid:e.num_iid}).then(e=>{this.$refs.table.refresh(!0)})},onCancel(){}})}}},P=I,D=(a("a05b"),a("2877")),E=Object(D["a"])(P,d,l,!1,null,"9fd2a3d8",null),B=E.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("md-scroll-view",{ref:"scrollView",attrs:{"scrolling-x":!1},on:{"end-reached":e.loadData}},[1==e.page.query&&0==e.page.items.length?a("div",{staticClass:"empty"},[a("md-result-page",{staticClass:"customized",attrs:{"img-url":"https://img.youdanhui.cn/cms_img/2020-07-30/5f22b757a0033.png",text:"搜索结果为空...",subtext:"要不然刷新试试？"}})],1):e._e(),e._l(e.page.items,(function(t,s){return a("div",{key:s,staticClass:"item"},[a("div",{staticClass:"item-line"},[a("div",{staticClass:"avatar"},[a("img",{staticClass:"portrait",attrs:{src:t.member.img_url||"https://img.youdanhui.cn/cms_img/2019-08-28/5d663304b1244.png"}})]),a("div",{staticClass:"avatar-content"},[a("div",{staticClass:"action-box"},[t.member.nick_name&&""!=t.member.nick_name?a("span",[e._v(e._s(t.member.nick_name))]):a("span",[e._v(e._s(t.member.user_name))]),a("span",[e._v(e._s(t.create_date))])]),t.vip?a("div",{staticClass:"action-box"},[a("span",[e._v("激活时间:"+e._s(t.vip.activated_at))]),a("span")]):e._e()])]),a("div",{staticClass:"item-data"},[a("div",{staticClass:"item-data-it"},[a("span",[e._v(e._s(t.member_data.task_credit))]),a("span",[e._v("任务信用")])]),a("div",{staticClass:"item-data-it"},[a("span",[e._v(e._s(t.member_data.invites))]),a("span",[e._v("邀请人数")])]),a("div",{staticClass:"item-data-it"},[a("span",[e._v(e._s(t.vip?"vip会员":"普通会员"))]),a("span",[e._v("当前等级")])]),a("div",{staticClass:"item-data-it"},[a("span",[e._v(e._s(e._f("showDate")(t.create_date)))]),a("span",[e._v("注册时间")])])])])})),a("md-scroll-view-more",{attrs:{slot:"more","is-finished":e.page.isFinished},slot:"more"})],2)],1)},T=[],M={name:"Brand",components:{[w.a.name]:w.a,[b.a.name]:b.a,[v.a.name]:v.a,[p.a.name]:p.a,[u.a.name]:u.a},data(){return{page:{items:[],ipage:0,hasMore:!0,isFinished:!1,query:0}}},created(){this.loadData()},methods:{moment:c.a,loadData(){this.page.isFinished||(this.page.ipage=this.page.ipage+1,$({ipage:this.page.ipage,maxMoney:.01,status:this.tabCurrentIndex}).then(e=>{e.data.items?this.page.items.push(...e.data.items):this.page.isFinished=!1,this.$refs.scrollView.finishLoadMore(),this.page.query=1}))},query(){this.$refs.table.refresh(!0)},onSelectChange(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced(){this.advanced=!this.advanced},resetSearchForm(){this.queryParam={date:c()(new Date)}}}},F=M,q=(a("58a7"),Object(D["a"])(F,W,T,!1,null,"be9c4120",null)),N=q.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"fields"},[a("md-field",{attrs:{title:"免单活动",brief:"用户分享的奖励机制"}},[a("md-cell-item",{attrs:{title:"是否开通",brief:""}},[a("md-switch",{attrs:{slot:"right"},slot:"right",model:{value:e.page.miandan.status,callback:function(t){e.$set(e.page.miandan,"status",t)},expression:"page.miandan.status"}})],1)],1),a("md-field",{attrs:{title:"客服微信",disabled:!e.page.miandan.status}},[a("md-input-item",{attrs:{title:"微信号:",placeholder:"用于免单联系的微信客服帐号"},model:{value:e.form.weixin,callback:function(t){e.$set(e.form,"weixin",t)},expression:"form.weixin"}})],1),a("md-field",{attrs:{title:"奖励规则",disabled:!e.page.miandan.status}},[a("md-input-item",{attrs:{title:"新用户:",brief:"新注册的用户赠送的免单活动次数（"+e.form.member_times+"次）"},model:{value:e.form.member_times,callback:function(t){e.$set(e.form,"member_times",t)},expression:"form.member_times"}}),a("md-input-item",{attrs:{title:"积分兑换",brief:"积分换免单（"+e.form.points+"个积分兑换一次免单机会，0代表不开启兑换奖励）"},model:{value:e.form.points,callback:function(t){e.$set(e.form,"points",t)},expression:"form.points"}})],1),a("md-field",[a("md-button",{attrs:{type:"primary",round:""},on:{click:e.handleSubmit}},[e._v("保存")])],1)],1)])},L=[],z=(a("ac6a"),a("1861")),A=a.n(z),G=a("ade3"),V=a("e446"),K=a.n(V),J=a("8730"),U=a.n(J),X=a("2273"),H=a.n(X),Q=a("6d32"),Y=a.n(Q),Z=a("88bc"),ee=a.n(Z),te=a("5880");function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(a),!0).forEach((function(t){Object(G["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ie={components:{[Y.a.name]:Y.a,[b.a.name]:b.a,[H.a.name]:H.a,[U.a.name]:U.a,[K.a.name]:K.a,[v.a.name]:v.a},computed:se({},Object(te["mapGetters"])(["token"])),data(){return{form:{weixin:"",member_times:0,points:0},page:{miandan:{status:!0,points:0}}}},created(){},mounted(){this.init()},methods:{init(){this.query()},query(){S().then(e=>{e.data.item&&this.$nextTick(()=>{const t=ee()(e.data.item,["weixin","member_times","points","pid","visits"]);t.share_range=""+t.share_range,this.form=Object.assign(this.form,t),this.page.miandan.points=e.data.item.points,this.page.miandan.status=1===e.data.item.status})})},handleSubmit(e){j(Object.assign(this.form,{status:this.page.miandan.status})).then(e=>{const t=e||{},a=t.code;0===a&&A.a.succeed("保存成功")})},changgeValue(e){const t=e.target,a=t.value,s=t.id;"points"===s&&(this.page.miandan.points=a)}}},ne=ie,re=(a("e922"),a("ea08"),Object(D["a"])(ne,R,L,!1,null,"08e2a021",null)),oe=re.exports,ce={name:"Page",components:{MiandanPage:B,DuihuanPage:N,DataPage:oe,[r.a.name]:r.a},data(){return{current:1,items:[{name:1,label:"免单商品"},{name:2,label:"免单设置"},{name:3,label:"免单兑换"}]}},created(){},methods:{handleTabChange(e,t){this[t]=e},query(){this.$refs.table.refresh(!0)},onSelectChange(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced(){this.advanced=!this.advanced},resetSearchForm(){this.queryParam={date:c()(new Date)}}}},de=ce,le=Object(D["a"])(de,s,i,!1,null,null,null);t["default"]=le.exports},e446:function(e,t,a){var s,i,n;(function(){(function(r,o){i=[t,a("8730"),a("f1c1"),a("cdfc"),a("affe")],s=o,n="function"===typeof s?s.apply(t,i):s,void 0===n||(e.exports=n)})(0,(function(e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(t);function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}e.default={name:"md-action-bar",components:n({},s.default.name,s.default),props:{actions:{type:Array,default:[]}},computed:{coerceActions:function(){return this.actions.slice(0,2)},hasSlots:function(){return!(0,a.isEmptyObject)(this.$slots)}},methods:{$_onBtnClick:function(e,t){t.onClick&&t.onClick(e,t),this.$emit("click",e,t)}}}}))})(),e.exports.__esModule&&(e.exports=e.exports.default);var r="function"===typeof e.exports?e.exports.options:e.exports;r.render=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"md-action-bar"},[a("div",{staticClass:"md-action-bar-container"},[e.hasSlots?a("div",{staticClass:"md-action-bar-text"},[e._t("default")],2):e._e(),e._v(" "),a("div",{staticClass:"md-action-bar-group"},[e._l(e.coerceActions,(function(t,s){return[a("md-button",{key:s,staticClass:"md-action-bar-button",attrs:{type:t.type||(t.disabled?"disabled":"primary"),plain:t.plain||s!==e.coerceActions.length-1,round:t.round,inactive:t.inactive,loading:t.loading,icon:t.icon,"icon-svg":t.iconSvg},on:{click:function(a){return e.$_onBtnClick(a,t)}}},[e._v("\n          "+e._s(t.text)+"\n        ")])]}))],2)])])},r.staticRenderFns=[]},e922:function(e,t,a){"use strict";var s=a("2d0d"),i=a.n(s);i.a},ea08:function(e,t,a){"use strict";var s=a("000b"),i=a.n(s);i.a}}]);