import{H as E,S as H,a as _,p as B,n as m,c as g,U as C,C as I}from"./index.c12099e8.js";import{t as k}from"./index.709eda75.js";function A(e,o){const r=Vue.computed({get:()=>e.visible,set:()=>a()}),t=()=>{o(E),a()},l=()=>{o(H)},a=()=>{o(_,!1)};return{popupShow:r,onHide:t,onShow:l,hide:a}}var D={modelValue:{type:[String,Number],default:""},visible:{type:Boolean,default:!1},title:{type:String,default:""},options:{type:Array,default:()=>[]},defaultIndex:{type:Number,default:-1},invalidIndex:{type:Number,default:-1},cancelText:{type:String,default:k("md.action_sheet.cancel")}},b="cancel",L=[C,_,E,H,b,I],P=(e,{emit:o})=>{const{popupShow:r,onHide:t,onShow:l,hide:a}=A(e,o),u=()=>{o(b),a()},d=s=>{e.options.findIndex(V=>V.value===s.value)!==e.invalidIndex&&(o(C,s.value),o(I,s),a())},p=Vue.computed(()=>e.options.findIndex(s=>s.value===e.modelValue));return{hideSheet:a,cancelHandler:u,onHide:t,onShow:l,popupShow:r,currentIndex:p,onSelect:d}},x=Vue.defineComponent({name:"MdActionSheet",components:{MdPopup:B},props:D,emits:L,setup(e,o){const{hideSheet:r,cancelHandler:t,onHide:l,onShow:a,popupShow:u,currentIndex:d,onSelect:p}=P(e,o);return{hideSheet:r,cancelHandler:t,onHide:l,onShow:a,popupShow:u,currentIndex:d,onSelect:p}}}),M={class:"md-action-sheet-content"},U={key:0,class:"md-action-sheet-header"},O={class:"md-action-sheet-list"},F={class:"md-action-sheet-item-wrapper"};function G(e,o){const r=Vue.resolveComponent("md-popup");return Vue.openBlock(),Vue.createBlock(Vue.Fragment,null,[Vue.createCommentVNode(" eslint-disable vue/no-v-html "),Vue.createVNode(r,{modelValue:e.popupShow,"onUpdate:modelValue":o[2]||(o[2]=t=>e.popupShow=t),class:"md-action-sheet",position:"bottom","prevent-scroll":"",onShow:e.onShow,onHide:e.onHide},{default:Vue.withCtx(()=>[Vue.createVNode("div",M,[e.title?(Vue.openBlock(),Vue.createBlock("div",U,Vue.toDisplayString(e.title),1)):Vue.createCommentVNode("v-if",!0),Vue.createVNode("ul",O,[(Vue.openBlock(!0),Vue.createBlock(Vue.Fragment,null,Vue.renderList(e.options,(t,l)=>(Vue.openBlock(),Vue.createBlock("li",{key:l,class:{active:l===e.currentIndex,disabled:l===e.invalidIndex,"md-action-sheet-item":!0},onClick:a=>e.onSelect(t)},[Vue.createVNode("div",F,[Vue.createVNode("div",{class:"md-action-sheet-item-section",innerHTML:t.text||t.label},null,8,["innerHTML"])])],10,["onClick"]))),128)),Vue.createVNode("li",{class:"md-action-sheet-cancel",onClick:o[1]||(o[1]=(...t)=>e.cancelHandler&&e.cancelHandler(...t))},Vue.toDisplayString(e.cancelText),1)])])]),_:1},8,["modelValue","onShow","onHide"])],2112)}x.render=G;var n=x,W="onUpdate:visible";n._instance=null;n._show=null;n.create=function({modelValue:e="",title:o="",options:r=[],invalidIndex:t=-1,cancelText:l=k("md.action_sheet.cancel"),maxHeight:a=400,onShow:u=m,onHide:d=m,onCancel:p=m,onSelect:s=m,onMaskClick:v=m}={}){var S,f,y,w;const V={modelValue:e,title:o,options:r,invalidIndex:t,cancelText:l,maxHeight:a,onShow:u,onHide:d,onCancel:p,onChange:s,[W]:v};if(n._show=()=>{var i;return(i=n._instance)==null?void 0:i.component.proxy.updateProps({visible:!0})},n._instance)return n._instance.component.proxy.updateProps(V),(S=n._show)==null||S.call(n),n._instance.component.proxy;const c=n._instance=g(n,V);if((f=n._show)==null||f.call(n),(y=c==null?void 0:c.component)!=null&&y.proxy){const i=c.component.proxy.remove;c.component.proxy.remove=(...T)=>{var N;i==null||i.apply((N=c.component)==null?void 0:N.proxy,T),n._instance=null}}return(w=c==null?void 0:c.component)==null?void 0:w.proxy};var h=n;h.install=e=>{e.component(h.name,h)};var q=h;export{q as a};
