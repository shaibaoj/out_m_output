import{l as g}from"./loadmore.2ad264dd.js";import{p as _}from"./index.830cf0bc.js";import{s as c}from"./index.46305381.js";import{_ as f,i as d}from"./index.d982108e.js";import{d as l}from"./index.ef0aa20c.js";import"./index.d94b657a.js";import{b as v}from"./backtop.f28cb313.js";import{i as b}from"./infiniteloading.268e5f38.js";import"./core.esm.4957b73a.js";import"./index.709eda75.js";import"./gogocodeTransfer.ea7237c2.js";/* empty css                                                                    */const k={components:{infiniteLoading:b,backTop:v,[d.name]:d,[c.name]:c,[l.name]:l,loadMore:g,pinduoduo:_},data(){return{searchKey:"",page:{ipage:0,price1:"",price2:"",hasMore:!0},tabIndex:0,isList:!1,items:[],loading:!1}},mounted(){this.init()},methods:{init(){this.$route.query.q&&(this.searchKey=this.$route.query.q),this.queryItems()},navAction(t){this.$nav.toNav(t)},navToPage(t,e){this.$nextTick(()=>{this.$router.push({path:t,query:e||{}})})},btnSelected:function(t){let e=t.currentTarget.dataset.index;this.attrData[e].selected=!this.attrData[e].selected,this.queryItems("tabChange")},screen:function(t){let e=t.currentTarget.dataset.index;e===4?this.isList=!this.isList:(this.tabIndex=parseInt(e),this.queryItems("tabChange"))},showList(){this.isList=!this.isList},closeDrawer:function(){this.drawer=!1,this.queryItems("tabChange")},clearDrawer:function(){this.page.price1="",this.page.price2="",this.drawer=!1},back:function(){this.drawer?this.closeDrawer():this.$nav.navTo("/pinduoduo/search")},search:function(){this.$nav.navTo("/pinduoduo/search")},search_taobao:function(){this.$nav.navTo("/search/list",{q:this.searchKey})},queryItems(t){t==="tabChange"&&(this.items=[],this.page.ipage=0),this.loading=!0;let e="";this.tabIndex===1?e="price":this.tabIndex===2?e="volume":e="",this.$http.post("/cms.pinduoduo.search",{ipage:this.page.ipage,q:this.searchKey,sort:e,start_price:this.page.price1,end_price:this.page.price2}).then(a=>{this.loading=!1,a.data.items&&(t==="tabChange"?this.items=a.data.items:this.items.push(...a.data.items),a.data.pager&&a.data.pager.ipage&&(this.page.ipage=parseInt(a.data.pager.ipage)+1)),this.loading=!1})},onPullDownRefresh:function(){this.page.ipage=1,this.pullUpOn=!0,this.loading=!1,this.queryItems("tabChange")},loadmore:function(){this.loading||this.queryItems()}}},u=t=>(Vue.pushScopeId("data-v-79517eda"),t=t(),Vue.popScopeId(),t),y={class:"page"},C={class:"header-box"},N={class:"header"},x={class:"searchbox search-mr"},E={key:0,class:"search-text"},I={key:1,class:"search-key"},q={class:"key-text"},w=u(()=>Vue.createElementVNode("img",{src:"https://img.youdanhui.cn/cms_img/2019-09-15/5d7db78c98de3.png"},null,-1)),L=u(()=>Vue.createElementVNode("img",{src:"https://img.youdanhui.cn/cms_img/2019-09-15/5d7db862e39c6.png"},null,-1)),B=[w,L],T={key:0,src:"https://img.youdanhui.cn/cms_img/2019-09-14/5d7c9226b9ec6.png"},D={key:1,src:"https://img.youdanhui.cn/cms_img/2019-09-14/5d7c905fc5059.png"},K={class:"header-screen"},z={class:"screen-top"},S={class:"container"};function M(t,e,a,P,o,s){const n=Vue.resolveComponent("md-icon"),m=Vue.resolveComponent("pinduoduo"),h=Vue.resolveComponent("load-more"),p=Vue.resolveComponent("back-top"),V=Vue.resolveComponent("infinite-loading");return Vue.openBlock(),Vue.createElementBlock("div",y,[Vue.createElementVNode("div",C,[Vue.createElementVNode("div",N,[Vue.createElementVNode("div",{class:"back",onClick:e[0]||(e[0]=(...i)=>s.back&&s.back(...i))},[Vue.createVNode(n,{name:"arrow-left",size:"lg",color:"#000"})]),Vue.createElementVNode("div",x,[Vue.createElementVNode("div",{class:"search-query",onClick:e[1]||(e[1]=(...i)=>s.search&&s.search(...i))},[o.searchKey?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("span",E,"\u641C\u7D22\u5B9D\u8D1D\u6807\u9898\u3001\u5173\u952E\u8BCD")),o.searchKey?(Vue.openBlock(),Vue.createElementBlock("div",I,[Vue.createElementVNode("div",q,Vue.toDisplayString(o.searchKey),1),Vue.createVNode(n,{name:"shut",size:"min",color:"#fff"})])):Vue.createCommentVNode("",!0)]),Vue.createElementVNode("div",{class:"search-type",onClick:e[2]||(e[2]=(...i)=>s.search_taobao&&s.search_taobao(...i))},B)]),Vue.createElementVNode("div",{class:"icon",onClick:e[3]||(e[3]=(...i)=>s.showList&&s.showList(...i))},[o.isList?(Vue.openBlock(),Vue.createElementBlock("img",T)):(Vue.openBlock(),Vue.createElementBlock("img",D))])]),Vue.createElementVNode("div",K,[Vue.createElementVNode("div",z,[Vue.createElementVNode("div",{class:Vue.normalizeClass(["top-item",[o.tabIndex==0?"active bold":""]]),onClick:e[4]||(e[4]=(...i)=>s.screen&&s.screen(...i)),"data-index":"0"}," \u7EFC\u5408 ",2),Vue.createElementVNode("div",{class:Vue.normalizeClass(["top-item",[o.tabIndex==1?"active bold":""]]),onClick:e[5]||(e[5]=(...i)=>s.screen&&s.screen(...i)),"data-index":"1"}," \u4EF7\u683C ",2),Vue.createElementVNode("div",{class:Vue.normalizeClass(["top-item",[o.tabIndex==2?"active bold":""]]),onClick:e[6]||(e[6]=(...i)=>s.screen&&s.screen(...i)),"data-index":"2"}," \u9500\u91CF ",2)])])]),Vue.createElementVNode("div",S,[Vue.createVNode(V,{onLoadmore:s.loadmore,"is-show-mod":!0,"has-more":o.page.hasMore,"is-loading":o.loading,threshold:200},{default:Vue.withCtx(()=>[Vue.createElementVNode("div",{class:Vue.normalizeClass(o.isList?"product-list ":"product-container")},[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(o.items,(i,r)=>(Vue.openBlock(),Vue.createBlock(m,{key:r,top:r+1,itemData:i,goodsType:o.isList?"list":""},null,8,["top","itemData","goodsType"]))),128))],2),Vue.createVNode(h,{visible:o.loading},null,8,["visible"]),Vue.createVNode(p,{distance:0,bottom:100,right:20})]),_:1},8,["onLoadmore","has-more","is-loading"])])])}var Y=f(k,[["render",M],["__scopeId","data-v-79517eda"]]);export{Y as default};
