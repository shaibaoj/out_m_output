import{t as d}from"./index.9394e26d.js";import{l as u}from"./loadmore.4f0f8ca1.js";import{g as c}from"./index.c5b87fc9.js";import{_}from"./index.c12099e8.js";import"./core.esm.4957b73a.js";const h={components:{loadMore:u,[d.name]:d,goods:c},data(){return{tabCurrentIndex:0,navList:[],items:[],loading:!1,ipage:0}},mounted(){this.loadNav()},created(){},methods:{loadNav(){this.$http.post("/app.page.nav",{nav_types:""}).then(t=>{t.data.item&&t.data.item.items&&(this.navList.push(...t.data.item.items),this.loadData())})},loadData(t){let a=this.tabCurrentIndex,o=this.navList[a],i=o?o.cid:"";t==="tabChange"&&(this.items=[],this.ipage=0),this.loading=!0,this.$http.post("/cms.goods.list",{ipage:this.ipage,cid:i,sort:"day_sales",pic_size:"300"}).then(e=>{this.loading=!1,e.data.items&&(t==="tabChange"?this.items=e.data.items:this.items.push(...e.data.items),e.data.pager&&e.data.pager.ipage&&(this.ipage=parseInt(e.data.pager.ipage)+1))})},changeTab(t){this.tabCurrentIndex=t,this.loadData("tabChange")},tabClick(t){this.tabCurrentIndex=t}}},g={class:"content"},v={class:"list"};function b(t,a,o,i,e,l){const r=Vue.resolveComponent("md-tab-bar"),p=Vue.resolveComponent("goods"),m=Vue.resolveComponent("load-more");return Vue.openBlock(),Vue.createElementBlock("div",g,[Vue.createVNode(r,{value:e.tabCurrentIndex,"onUpdate:value":a[0]||(a[0]=n=>e.tabCurrentIndex=n),onChange:l.changeTab,items:e.navList,maxLength:5},null,8,["value","onChange","items"]),Vue.createElementVNode("div",v,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.items,(n,s)=>(Vue.openBlock(),Vue.createBlock(p,{key:s,top:s+1,itemData:n,goodsType:"list"},null,8,["top","itemData"]))),128)),Vue.createVNode(m,{visible:e.loading},null,8,["visible"])])])}var k=_(h,[["render",b],["__scopeId","data-v-6e263bf0"]]);export{k as default};
