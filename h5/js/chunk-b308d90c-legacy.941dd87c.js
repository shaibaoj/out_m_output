(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b308d90c"],{3590:function(t,i,o){"use strict";var s=o("84ba"),a=o.n(s);a.a},"84ba":function(t,i,o){},d7fd:function(t,i,o){"use strict";o.r(i);var s,a=function(){var t=this,i=t.$createElement,o=t._self._c||i;return t.goods.goods?o("div",{staticClass:"container"},[o("div",{staticClass:"header-box"},[o("div",{staticClass:"header"}),o("div",{staticClass:"header-icon"},[o("div",{staticClass:"md-icon",on:{click:t.back}},[o("md-icon",{attrs:{name:"arrow-left",size:"lg",color:"#fff"}})],1)])]),t.video?t._e():o("div",{staticClass:"banner-swiper"},[o("md-swiper",t._l(t.goods.goods.picList,(function(t,i){return o("md-swiper-item",{key:i},[o("img",{staticClass:"slide-image",attrs:{src:t}})])})),1)],1),t.video?o("div",[o("video",{attrs:{src:t.goods.videos.url,controls:"",width:"100%",autoplay:"autoplay",objectFit:"fill"}})]):t._e(),o("div",{staticClass:"pro-detail"},[o("div",{staticClass:"product-title"},[o("div",{staticClass:"pro-titbox"},[o("div",{staticClass:"pro-title"},[o("span",{staticClass:"shop"},[t._v(t._s(t.goods.goods.user_type_name))]),t._v("\n\t\t\t\t\t"+t._s(t.goods.goods.title)+"\n\t\t\t\t")])]),o("div",{staticClass:"original-price"},[o("div",{staticClass:"coupon-price"},[t._v("\n\t\t\t\t\t券后价 ￥\n\t\t\t\t\t"),o("span",{staticClass:"line-through"},[t._v(t._s(t.goods.price.buy_price))])]),t.goods.click.share_commission>0?o("div",{staticClass:"commission"},[t._v("预计返利：+"),o("span",[t._v(t._s(t.goods.click.share_commission))])]):t._e()]),o("div",{staticClass:"pro-pricebox"},[o("div",{staticClass:"pro-price"},[o("div",[t._v("已售"),o("span",{staticClass:"price"},[t._v(t._s(t.goods.goods.volume_str))]),t._v("件")])])]),o("div",{staticClass:"padding"},[o("div",{staticClass:"sub-title"},[t._v(t._s(t.goods.goods.comment))]),o("div",{staticClass:"sale-info"},[o("div",[t._v("快递：包邮")]),o("div",[t._v("月销"+t._s(t.goods.goods.volume_str))]),t.goods.click.share_commission>0?o("div",[t._v("分享赚:"+t._s(t.goods.click.share_commission))]):t._e()])])]),o("div",{staticClass:"discount-box",on:{click:t.buy}},[o("div",{staticClass:"discount-info"},[o("div",{staticClass:"item title"},[t._v(t._s(t.goods.coupon.coupon_money)+"元优惠券")]),o("div",{staticClass:"item"},[t._v(t._s(t.goods.coupon.coupon_start_date)+" - "+t._s(t.goods.coupon.coupon_end_date))])]),o("div",{staticClass:"lingqu"},[t._v("立即领取")])]),o("div",{staticClass:"nomore-box"},[t._v("\n\t\t\t宝贝详情\n\t\t")]),o("div",{staticClass:"product-img"},t._l(t.goods.goods.images,(function(t,i){return o("img",{key:i,attrs:{src:t}})})),0)]),o("div",{staticClass:"operation"},[o("div",{staticClass:"operation-left"},[o("div",{staticClass:"operation-item",attrs:{"hover-class":"opcity","hover-stay-time":150},on:{click:t.goHome}},[o("img",{attrs:{src:"https://img.youdanhui.cn/cms_img/2019-09-14/5d7c98ea275ad.png"}}),o("div",{staticClass:"operation-text"},[t._v("首页")])]),o("div",{staticClass:"operation-item",attrs:{"hover-class":"opcity","hover-stay-time":150},on:{click:t.toShare}},[o("img",{attrs:{src:"https://img.youdanhui.cn/cms_img/2019-09-14/5d7ce11d253b9.png"}}),o("div",{staticClass:"operation-text"},[t._v("分享")])]),o("div",{staticClass:"operation-item",attrs:{"hover-class":"opcity","hover-stay-time":150},on:{click:t.toFavorite}},[o("img",{attrs:{src:"https://img.youdanhui.cn/cms_img/2019-09-14/5d7c99f329107.png"}}),o("div",{staticClass:"md-icon md-icon-collection",class:["md-icon-"+(t.favorite?"like-fill":"like")],style:{color:t.favorite?"#ff201f":"#333",fontSize:"20px"}}),o("div",{staticClass:"operation-text"},[t._v("收藏")])])]),o("div",{staticClass:"operation-right"},[o("div",{staticClass:"buy-token",on:{click:t.showToken}},[o("div",{staticClass:"btn"},[t._v("口令购买")])]),o("div",{staticClass:"buy-link",on:{click:t.buy}},[t._v("\n\t\t\t\t领券购买\n\t\t\t")])])]),o("md-dialog",{attrs:{closable:!1,"mask-closable":!0},model:{value:t.modalToken,callback:function(i){t.modalToken=i},expression:"modalToken"}},[o("div",{staticClass:"modal-custom"},[o("div",{staticClass:"tips-content"},[t._v("复制口令购买")]),o("div",{staticClass:"modal-custom-text"},[t._v("复制框内整段文字，打开【手-机-淘-宝】即可领券购买。"+t._s(t.click.tao_token))]),o("div",{staticClass:"modal-custom-btn copytext-btn",on:{click:function(i){return t.copyContent()}}},[t._v(t._s(t.modelBtnText))])])]),o("md-dialog",{attrs:{closable:!1,"mask-closable":!0},model:{value:t.modalAuthorize,callback:function(i){t.modalAuthorize=i},expression:"modalAuthorize"}},[o("div",{staticClass:"modal-custom"},[o("img",{staticClass:"modal-custom-img",attrs:{src:"http://cmsstatic.dataoke.com//wap_new/user/images/dialog/taobao.png"}}),o("div",{staticClass:"tips-content"},[t._v("请先完成淘宝授权")]),o("div",{staticClass:"tips-content"},[t._v("淘宝授权后购买商品可以获得返利")]),o("div",{staticClass:"modal-custom-authorize",on:{click:function(i){return t.toAuthorize()}}},[t._v("去授权")]),o("div",{staticClass:"modal-custom-buy copytext-btn",on:{click:function(i){return t.tobuy()}}},[t._v("暂不授权")])])]),o("md-popup",{model:{value:t.clickLoading,callback:function(i){t.clickLoading=i},expression:"clickLoading"}},[o("div",{staticClass:"md-loading-popup"},[t._v("\n\t\t\t加载中。。。\n\t\t")])])],1):o("div",[o("md-skeleton",{attrs:{avatar:"",title:""}}),o("md-skeleton",{attrs:{avatar:"",title:""}}),o("md-skeleton",{attrs:{avatar:"",title:""}}),o("md-skeleton",{attrs:{avatar:"",title:""}}),o("md-skeleton",{attrs:{avatar:"",title:""}}),o("md-skeleton",{attrs:{avatar:"",title:""}})],1)},c=[],e=o("1861"),n=o.n(e),l=(o("a481"),o("bd86")),d=o("aed6"),r=o.n(d),u=o("06cd"),m=o.n(u),h=o("4b25"),v=o.n(h),p=o("57a3"),_=o.n(p),f=o("7b38"),k=o.n(f),g=o("750b"),b=o.n(g),C=o("8730"),y=o.n(C),w=(o("7f7f"),o("f609")),x=o.n(w),T=(o("5880"),o("b0c2")),z=o.n(T),$={components:(s={},Object(l["a"])(s,x.a.name,x.a),Object(l["a"])(s,y.a.name,y.a),Object(l["a"])(s,b.a.name,b.a),Object(l["a"])(s,k.a.name,k.a),Object(l["a"])(s,_.a.name,_.a),Object(l["a"])(s,v.a.name,v.a),Object(l["a"])(s,m.a.name,m.a),Object(l["a"])(s,r.a.name,r.a),s),data:function(){return{id:"",goods:{},click:{},favorite:!1,modalToken:!1,modelBtnText:"一键复制",modalAuthorize:!1,video:!1,clickLoading:!1,height:64,top:0,scrollH:0,opcity:0,iconOpcity:.5,bannerIndex:0,menuShow:!1,popupShow:!1,value:1,danmuList:[{text:"",color:"#ff0000",time:3}]}},mounted:function(){this.init()},methods:{init:function(){this.$route.query.video&&(this.video=!0),this.$route.query.id&&(this.id=this.$route.query.id,this.query_detail(this.id),this.pin(this.id))},goHome:function(){this.navToPage("/",{})},navAction:function(t){this.$nav.toNav(t)},navToPage:function(t,i){var o=this;this.$nextTick((function(){o.$router.push({path:t,query:i||{}})}))},back:function(){this.$router.go(-1)},openMenu:function(){this.menuShow=!0},closeMenu:function(){this.menuShow=!1},showPopup:function(){this.popupShow=!0},hidePopup:function(){this.popupShow=!1},change:function(t){this.value=t.value},common:function(){this.tui.toast("功能开发中~")},toFavorite:function(){var t=this;this.$http.post("/cms/member/favorite/pin",{object_type:"goods",object_id:this.id}).then((function(i){0===i.info.status?t.favorite=!0:t.favorite=!1}))},buy:function(){this.click.click_url?this.click.authorize_url?this.modalAuthorize=!0:this.$common.isWeiXin()?this.modalToken=!0:window.location.href=this.click.click_url:this.$common.isWeiXin()?this.query_click(this.id,2):this.query_click(this.id,1)},showToken:function(){this.click.click_url?this.click.authorize_url?this.modalAuthorize=!0:this.modalToken=!0:this.query_click(this.id,2)},query_detail:function(t){var i=this;this.$http.post("/cms/goods/view",{num_iid:t,cms_url:encodeURIComponent(window.location.href)}).then((function(t){t.data.item&&t.data.item&&(i.goods=t.data.item)})),this.$http.post("/cms/member/favorite/index",{object_type:"goods",object_id:t}).then((function(t){t.data.item&&t.data.item.id?i.favorite=!0:i.favorite=!1}))},query_click:function(t,i){var o=this;this.clickLoading=!0,this.$http.post("/cms/goods/click",{num_iid:t,cms_url:encodeURIComponent(window.location.href)}).then((function(t){t.data.click&&t.data.click&&(o.click=t.data.click,1===i?o.buy():2===i&&o.showToken()),o.clickLoading=!1}))},pin:function(t){this.$http.post("/cms/member/history/pin",{object_type:"goods",object_id:t}).then((function(t){}))},hideToken:function(){this.modalToken=!1},hideAuthorize:function(){this.modalAuthorize=!1},copyContent:function(){var t=this,i=(this.click.tao_token,this.click.tao_token.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")),o=new z.a(".copytext-btn",{text:function(){return i}});o.on("success",(function(i){i.clearSelection(),o.destroy(),t.copied=!0,n.a.info("代码已复制到剪贴板"),t.modelBtnText="复制成功",setTimeout((function(){t.copied=!1}),2e3)})),o.on("error",(function(t){console.log(t)}))},toAuthorize:function(){window.location.href=this.click.authorize_url},tobuy:function(){this.modalAuthorize=!1,this.click.authorize_url=null,this.buy()},toShare:function(){var t=this;this.$nextTick((function(){t.$router.push({path:"/share",query:{id:t.id}})}))}}},j=$,q=(o("3590"),o("2877")),A=Object(q["a"])(j,a,c,!1,null,"a0e3b082",null);i["default"]=A.exports}}]);