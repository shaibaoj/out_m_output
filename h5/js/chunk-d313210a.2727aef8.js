(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d313210a"],{"0bbf":function(t,e,i){"use strict";i("c251")},3919:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"scroller",staticClass:"infinite-loading",on:{touchstart:function(e){return t.touchStartHandle(e)},touchmove:function(e){return t.touchMoveHandle(e)}}},[t._t("default"),i("div",{staticClass:"load-more"},[i("div",{staticClass:"bottom-tips"},[t.isLoading?[i("i",{staticClass:"loading-hint"}),i("span",{staticClass:"loading-txt"},[t._v("加载中...")])]:t.hasMore?t._e():i("span",{staticClass:"tips-txt"},[t._v("哎呀，这里是底部了啦")])],2)])],2)},o=[],a={name:"infinite-loading",props:{hasMore:{type:Boolean,default:!0},isLoading:{type:Boolean,default:!1},threshold:{type:Number,default:200},useWindow:{type:Boolean,default:!0},isShowMod:{type:Boolean,default:!1}},data(){return{startX:0,startY:0,diffX:0,diffY:0,beforeScrollTop:0}},mounted:function(){this.scrollListener()},methods:{touchStartHandle(t){try{this.startX=Number(t.changedTouches[0].pageX),this.startY=Number(t.changedTouches[0].pageY)}catch(t){console.log(t.message)}},touchMoveHandle(t){let e=Number(t.changedTouches[0].pageX),i=Number(t.changedTouches[0].pageY);this.diffX=e-this.startX,this.diffY=i-this.startY},scrollListener(){window.addEventListener("scroll",this.handleScroll,!1),window.addEventListener("resize",this.handleScroll,!1)},requestAniFrame(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}},handleScroll(){this.requestAniFrame()(()=>{if(!this.hasMore||!this.isScrollAtBottom()||this.isLoading||!this.isShowMod)return!1;this.$emit("loadmore")})},calculateTopPosition(t){return t?t.offsetTop+this.calculateTopPosition(t.offsetParent):0},getWindowScrollTop(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},isScrollAtBottom(){let t;const e=this.getWindowScrollTop();if(this.useWindow)t=this.calculateTopPosition(this.$refs.scroller)+this.$refs.scroller.offsetHeight-e-window.innerHeight;else{const e=this.$refs.scroller,i=e.scrollHeight,s=e.clientHeight,o=e.scrollTop;t=i-s-o}this.beforeScrollTop;return this.beforeScrollTop=e,t<=this.threshold&&e>=this.beforeScrollTop}},destroyed(){window.removeEventListener("scroll",this.handleScroll,!1),window.removeEventListener("resize",this.handleScroll,!1)}},n=a,r=(i("0bbf"),i("2877")),l=Object(r["a"])(n,s,o,!1,null,"9d36787a",null);e["a"]=l.exports},"4fcb":function(t,e,i){},"5f9f":function(t,e,i){"use strict";i("7095")},7095:function(t,e,i){},"935a":function(t,e,i){},aa6b:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav-bar"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.leftShow,expression:"leftShow"}],staticClass:"nav-left"},[i("div",{staticClass:"back",on:{click:function(e){return t.$emit("on-click-back")}}},[t._t("back-icon",(function(){return[i("i",{staticClass:"back-icon"})]}))],2),t._t("left")],2),i("div",{staticClass:"nav-center"},[i("h3",{staticClass:"nav-title",on:{click:function(e){return t.$emit("on-click-title")}}},[t._t("default",(function(){return[i("span",{directives:[{name:"show",rawName:"v-show",value:t.title,expression:"title"}]},[t._v(t._s(t.title))])]}))],2)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.rightShow,expression:"rightShow"}],staticClass:"nav-right"},[t._t("right"),i("div",{staticClass:"more",on:{click:function(e){return t.$emit("on-click-more")}}},[t._t("more-icon",(function(){return[i("i",{staticClass:"more-icon"})]}))],2)],2)])},o=[],a={name:"nav-bar",props:{title:{type:String,default:"navBar"},leftShow:{type:Boolean,default:!0},rightShow:{type:Boolean,default:!0}},data(){return{}},methods:{onClickBack(){this.$router?this.$router.back():window.history.back()}}},n=a,r=(i("5f9f"),i("2877")),l=Object(r["a"])(n,s,o,!1,null,"96b87444",null);e["a"]=l.exports},ad8e:function(t,e,i){"use strict";i("935a")},c251:function(t,e,i){},db8e:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("div",{staticClass:"loadmore"},[i("div",{class:["loading-"+t.index,3==t.index&&t.type?"loading-"+t.type:""]}),i("div",{staticClass:"loadmore-tips"},[t._v(t._s(t.text))])]):t._e()},o=[],a={name:"load-more",props:{text:{type:String,default:"正在加载..."},visible:{type:Boolean,default:!1},index:{type:Number,default:1},type:{type:String,default:""}}},n=a,r=(i("ad8e"),i("2877")),l=Object(r["a"])(n,s,o,!1,null,"78a461f2",null);e["a"]=l.exports},fa48:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("div",{staticClass:"fix"},[i("nav-bar",{staticClass:"nav",attrs:{rightShow:!1},on:{"on-click-back":t.back}},[t._v("收藏夹")])],1),i("div",{staticClass:"container"},[i("infinite-loading",{attrs:{"is-show-mod":!0,"has-more":t.page.hasMore,"is-loading":t.loading,threshold:200},on:{loadmore:t.loadmore}},[i("div",{staticClass:"list"},t._l(t.items,(function(t,e){return i("goods",{key:e,attrs:{itemData:t.obj,goodsType:"favorite"}})})),1)])],1)])},o=[],a=i("db8e"),n=i("a288"),r=i("aa6b"),l=i("3919"),c={components:{navBar:r["a"],infiniteLoading:l["a"],loadMore:a["a"],goods:n["a"]},data(){return{page:{ipage:0,hasMore:!0},loading:!1,items:[]}},created(){},mounted(){this.queryItems()},methods:{back(){this.$router.go(-1)},queryItems(){!1!==this.page.hasMore&&(this.loading=!0,this.page.ipage=this.page.ipage+1,this.$http.post("/cms.member.favorite.list",{ipage:this.page.ipage}).then(t=>{t.data.items?this.items.push(...t.data.items):this.page.hasMore=!1,this.loading=!1}))},loadmore(){this.loading||this.queryItems()}}},d=c,u=(i("fba4"),i("2877")),h=Object(u["a"])(d,s,o,!1,null,"54b11465",null);e["default"]=h.exports},fba4:function(t,e,i){"use strict";i("4fcb")}}]);