(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52906a6c"],{"1a87":function(t,i,s){},d7fd:function(t,i,s){"use strict";s.r(i);var o=function(){var t=this,i=t.$createElement,s=t._self._c||i;return t.goods.goods?s("div",{staticClass:"container"},[s("div",{staticClass:"header-box"},[s("div",{staticClass:"header"}),s("div",{staticClass:"header-icon"},[s("div",{staticClass:"md-icon",on:{click:t.back}},[s("md-icon",{attrs:{name:"arrow-left",size:"lg",color:"#fff"}})],1)])]),t.video?t._e():s("div",{staticClass:"banner-swiper"},[s("md-swiper",t._l(t.goods.goods.pic_list,(function(t,i){return s("md-swiper-item",{key:i},[s("img",{staticClass:"slide-image",attrs:{src:t}})])})),1)],1),t.video?s("div",[s("video",{attrs:{src:t.goods.videos.url,controls:"",width:"100%",autoplay:"autoplay",objectFit:"fill"}})]):t._e(),s("div",{staticClass:"pro-detail"},[s("div",{staticClass:"product-title"},[s("div",{staticClass:"pro-titbox"},[s("div",{staticClass:"pro-title"},[s("span",{staticClass:"shop"},[t._v(t._s(t.goods.goods.user_type_name))]),t._v("\n\t\t\t\t\t"+t._s(t.goods.goods.title)+"\n\t\t\t\t")])]),s("div",{staticClass:"original-price"},[s("div",{staticClass:"coupon-price"},[t._v("\n\t\t\t\t\t券后价 ￥\n\t\t\t\t\t"),s("span",{staticClass:"line-through"},[t._v(t._s(t.goods.price.buy_price))])]),t.goods.click.share_commission>0?s("div",{staticClass:"commission"},[t._v("预计返利：+"),s("span",[t._v(t._s(t.goods.click.share_commission))])]):t._e()]),s("div",{staticClass:"pro-pricebox"},[s("div",{staticClass:"pro-price"},[s("div",[t._v("已售"),s("span",{staticClass:"price"},[t._v(t._s(t.goods.goods.volume_str))]),t._v("件")])])]),s("div",{staticClass:"padding"},[s("div",{staticClass:"sub-title"},[t._v(t._s(t.goods.goods.comment))]),s("div",{staticClass:"sale-info"},[s("div",[t._v("快递：包邮")]),s("div",[t._v("月销"+t._s(t.goods.goods.volume_str))]),t.goods.click.share_commission>0?s("div",[t._v("分享赚:"+t._s(t.goods.click.share_commission))]):t._e()])])]),s("div",{staticClass:"discount-box",on:{click:t.buy}},[s("div",{staticClass:"discount-info"},[s("div",{staticClass:"item title"},[t._v(t._s(t.goods.coupon.coupon_money)+"元优惠券")]),s("div",{staticClass:"item"},[t._v(t._s(t.goods.coupon.coupon_start_date)+" - "+t._s(t.goods.coupon.coupon_end_date))])]),s("div",{staticClass:"lingqu"},[t._v("立即领取")])]),s("div",{staticClass:"nomore-box"},[t._v("\n\t\t\t宝贝详情\n\t\t")]),s("div",{staticClass:"product-img"},t._l(t.goods.goods.images,(function(t,i){return s("img",{key:i,attrs:{src:t}})})),0)]),s("div",{staticClass:"operation"},[s("div",{staticClass:"operation-left"},[s("div",{staticClass:"operation-item",attrs:{"hover-class":"opcity","hover-stay-time":150},on:{click:t.goHome}},[s("img",{attrs:{src:"https://img.youdanhui.cn/cms_img/2019-09-14/5d7c98ea275ad.png"}}),s("div",{staticClass:"operation-text"},[t._v("首页")])]),s("div",{staticClass:"operation-item",attrs:{"hover-class":"opcity","hover-stay-time":150},on:{click:t.toShare}},[s("img",{attrs:{src:"https://img.youdanhui.cn/cms_img/2019-09-14/5d7ce11d253b9.png"}}),s("div",{staticClass:"operation-text"},[t._v("分享")])]),s("div",{staticClass:"operation-item",attrs:{"hover-class":"opcity","hover-stay-time":150},on:{click:t.toFavorite}},[s("img",{attrs:{src:"https://img.youdanhui.cn/cms_img/2019-09-14/5d7c99f329107.png"}}),s("div",{staticClass:"md-icon md-icon-collection",class:["md-icon-"+(t.favorite?"like-fill":"like")],style:{color:t.favorite?"#ff201f":"#333",fontSize:"20px"}}),s("div",{staticClass:"operation-text"},[t._v("收藏")])])]),s("div",{staticClass:"operation-right"},[s("div",{staticClass:"buy-token",on:{click:t.showToken}},[s("div",{staticClass:"btn"},[t._v("口令购买")])]),s("div",{staticClass:"buy-link",on:{click:t.buy}},[t._v("\n\t\t\t\t领券购买\n\t\t\t")])])]),s("md-dialog",{attrs:{closable:!1,"mask-closable":!0},model:{value:t.modalToken,callback:function(i){t.modalToken=i},expression:"modalToken"}},[s("div",{staticClass:"modal-custom"},[s("div",{staticClass:"tips-content"},[t._v("复制口令购买")]),s("div",{staticClass:"modal-custom-text"},[t._v("复制框内整段文字，打开【手-机-淘-宝】即可领券购买。"+t._s(t.click.tao_token))]),s("div",{staticClass:"modal-custom-btn copytext-btn",on:{click:function(i){return t.copyContent()}}},[t._v(t._s(t.modelBtnText))])])]),s("md-dialog",{attrs:{closable:!1,"mask-closable":!0},model:{value:t.modalAuthorize,callback:function(i){t.modalAuthorize=i},expression:"modalAuthorize"}},[s("div",{staticClass:"modal-custom"},[s("img",{staticClass:"modal-custom-img",attrs:{src:"http://cmsstatic.dataoke.com//wap_new/user/images/dialog/taobao.png"}}),s("div",{staticClass:"tips-content"},[t._v("请先完成淘宝授权")]),s("div",{staticClass:"tips-content"},[t._v("淘宝授权后购买商品可以获得返利")]),s("div",{staticClass:"modal-custom-authorize",on:{click:function(i){return t.toAuthorize()}}},[t._v("去授权")]),s("div",{staticClass:"modal-custom-buy copytext-btn",on:{click:function(i){return t.tobuy()}}},[t._v("暂不授权")])])]),s("md-popup",{model:{value:t.clickLoading,callback:function(i){t.clickLoading=i},expression:"clickLoading"}},[s("div",{staticClass:"md-loading-popup"},[t._v("\n\t\t\t加载中。。。\n\t\t")])])],1):s("div",[s("md-skeleton",{attrs:{avatar:"",title:""}}),s("md-skeleton",{attrs:{avatar:"",title:""}}),s("md-skeleton",{attrs:{avatar:"",title:""}}),s("md-skeleton",{attrs:{avatar:"",title:""}}),s("md-skeleton",{attrs:{avatar:"",title:""}}),s("md-skeleton",{attrs:{avatar:"",title:""}})],1)},a=[],e=s("1861"),c=s.n(e),n=(s("a481"),s("aed6")),l=s.n(n),d=s("06cd"),r=s.n(d),m=s("4b25"),h=s.n(m),u=s("57a3"),v=s.n(u),p=s("7b38"),_=s.n(p),k=s("750b"),g=s.n(k),C=s("8730"),f=s.n(C),b=s("f609"),y=s.n(b),w=(s("5880"),s("b0c2")),x=s.n(w),T={components:{[y.a.name]:y.a,[f.a.name]:f.a,[g.a.name]:g.a,[_.a.name]:_.a,[v.a.name]:v.a,[h.a.name]:h.a,[r.a.name]:r.a,[l.a.name]:l.a},data(){return{id:"",goods:{},click:{},favorite:!1,modalToken:!1,modelBtnText:"一键复制",modalAuthorize:!1,video:!1,clickLoading:!1,height:64,top:0,scrollH:0,opcity:0,iconOpcity:.5,bannerIndex:0,menuShow:!1,popupShow:!1,value:1,danmuList:[{text:"",color:"#ff0000",time:3}]}},mounted(){this.init()},methods:{init(){this.$route.query.video&&(this.video=!0),this.$route.query.id&&(this.id=this.$route.query.id,this.query_detail(this.id),this.pin(this.id))},goHome(){this.navToPage("/",{})},navAction(t){this.$nav.toNav(t)},navToPage(t,i){this.$nextTick(()=>{this.$router.push({path:t,query:i||{}})})},back(){this.$router.go(-1)},openMenu:function(){this.menuShow=!0},closeMenu:function(){this.menuShow=!1},showPopup:function(){this.popupShow=!0},hidePopup:function(){this.popupShow=!1},change:function(t){this.value=t.value},common:function(){this.tui.toast("功能开发中~")},toFavorite(){this.$http.post("/cms/member/favorite/pin",{object_type:"goods",object_id:this.id}).then(t=>{0===t.info.status?this.favorite=!0:this.favorite=!1})},buy(){this.click.click_url?this.click.authorize_url?this.modalAuthorize=!0:this.$common.isWeiXin()?this.modalToken=!0:window.location.href=this.click.click_url:this.$common.isWeiXin()?this.query_click(this.id,2):this.query_click(this.id,1)},showToken(){this.click.click_url?this.click.authorize_url?this.modalAuthorize=!0:this.modalToken=!0:this.query_click(this.id,2)},query_detail(t){this.$http.post("/cms/goods/view",{num_iid:t,cms_url:encodeURIComponent(window.location.href)}).then(t=>{t.data.item&&t.data.item&&(this.goods=t.data.item)}),this.$http.post("/cms/member/favorite/index",{object_type:"goods",object_id:t}).then(t=>{t.data.item&&t.data.item.id?this.favorite=!0:this.favorite=!1})},query_click(t,i){this.clickLoading=!0,this.$http.post("/cms/goods/click",{num_iid:t,cms_url:encodeURIComponent(window.location.href)}).then(t=>{t.data.click&&t.data.click&&(this.click=t.data.click,1===i?this.buy():2===i&&this.showToken()),this.clickLoading=!1})},pin(t){this.$http.post("/cms/member/history/pin",{object_type:"goods",object_id:t}).then(t=>{})},hideToken(){this.modalToken=!1},hideAuthorize(){this.modalAuthorize=!1},copyContent(){this.click.tao_token;const t=this.click.tao_token.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),i=new x.a(".copytext-btn",{text(){return t}});i.on("success",t=>{t.clearSelection(),i.destroy(),this.copied=!0,c.a.info("代码已复制到剪贴板"),this.modelBtnText="复制成功",setTimeout(()=>{this.copied=!1},2e3)}),i.on("error",(function(t){console.log(t)}))},toAuthorize(){window.location.href=this.click.authorize_url},tobuy(){this.modalAuthorize=!1,this.click.authorize_url=null,this.buy()},toShare(){this.$nextTick(()=>{this.$router.push({path:"/share",query:{id:this.id}})})}}},z=T,$=(s("da97"),s("2877")),q=Object($["a"])(z,o,a,!1,null,"6eae23e2",null);i["default"]=q.exports},da97:function(t,i,s){"use strict";var o=s("1a87"),a=s.n(o);a.a}}]);